(this.webpackJsonpsetting=this.webpackJsonpsetting||[]).push([[3],[,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return e?(e=e.replace(/([^\\])\\n/g,"$1\n").replace(/\\\\n/,"&#92;n"),/((\.\.\.)|(\u2026))$/.exec(e)?window.Dict.get(e.replace(/((\.\.\.)|(\u2026))$/,""),t).replace(/\n/g," ").replace(/&#92;/g,"\\")+"\u2026":window.Dict.get(e,t).replace(/\n/g," ").replace(/&#92;/g,"\\")):""}},function(e,t,n){"use strict";n.d(t,"o",(function(){return E})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"k",(function(){return N})),n.d(t,"r",(function(){return j})),n.d(t,"d",(function(){return _})),n.d(t,"t",(function(){return L})),n.d(t,"q",(function(){return F})),n.d(t,"b",(function(){return P})),n.d(t,"s",(function(){return M})),n.d(t,"u",(function(){return T})),n.d(t,"l",(function(){return $})),n.d(t,"n",(function(){return A})),n.d(t,"f",(function(){return W})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return R})),n.d(t,"p",(function(){return H})),n.d(t,"j",(function(){return z})),n.d(t,"v",(function(){return U})),n.d(t,"w",(function(){return B})),n.d(t,"i",(function(){return D})),n.d(t,"m",(function(){return G})),n.d(t,"a",(function(){return q}));var a=n(10),o=n(6),i=n(5),r=n(3),l=n(15),c=n(16),s=n(9),u=n(18),p=n(17),d=n(0),m=n.n(d),h=n(8),g=n.n(h),f=n(7),b=n(1),w=n(4),v=n(19),y=n.n(v);function k(e){return function(t){Object(u.a)(a,t);var n=Object(p.a)(a);function a(e){var t;return Object(l.a)(this,a),(t=n.call(this,e)).onMouseEnter=t.onMouseEnter.bind(Object(s.a)(t)),t.onMouseLeave=t.onMouseLeave.bind(Object(s.a)(t)),t.targetRef=m.a.createRef(),t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.tooltip=document.querySelector("#ty-tooltip")}},{key:"_adjustPosition",value:function(e){var t=this.targetRef.current,n=t.getBoundingClientRect(),a=this.tooltip.clientWidth,o={top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft};"bottom"===e?(o.top=n.bottom+8,o.right=n.right+(a-n.width)/2):"top"===e?(o.top=n.top-36,o.right=n.right+(a-n.width)/2):(o.right=o.left-8,o.top=o.top+t.clientHeight/2-this.tooltip.clientHeight/2),a>window.innerWidth-30?o.left=8:o.left=o.right-a,this.tooltip.style.top=o.top+"px",this.tooltip.style.left=o.left+"px",o.right&&(this.tooltip.style.right=window.innerWidth-o.right-4+"px")}},{key:"onMouseEnter",value:function(){var e=this.props,t=e.hintPosition,n=e.hint;n&&(this.tooltip.style.right="auto",this.tooltip.innerHTML=n,this.tooltip.classList.add("shown"),this._adjustPosition(t))}},{key:"onMouseLeave",value:function(){this.tooltip.classList.remove("shown")}},{key:"render",value:function(){return m.a.createElement(e,Object.assign({},this.props,{ref:this.targetRef,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}))}}]),a}(m.a.Component)}var E=function(e){var t=e.active,n=e.children,a=Object(r.a)(e,["active","children"]),o=m.a.useRef(null);return m.a.useEffect((function(){if(t&&o.current){var e=o.current,n=e.querySelector(".search-hit, .blink-area");if(n){var a=n.getBoundingClientRect();a.top+20>e.parentElement.scrollTop+window.innerHeight&&(e.parentElement.scrollTop=a.top-20)}}})),m.a.createElement("div",Object.assign({ref:o,className:"content"+(t?"":" display-none")},a),n)},x=function(e){var t=e.text,n=e.link;return n?m.a.createElement("a",{href:n,target:"_blank",onClick:function(e){window.Setting.openLink(n),e.preventDefault()}},Object(b.a)(t)):Object(b.a)(t)},C=function(e){var t=e.hint,n=e.displayHint,a=e.inlineHint,o=e.hintLink,i=Object(r.a)(e,["hint","displayHint","inlineHint","hintLink"]);return n?m.a.createElement("div",{className:"panel-content-hint row"},t):a?m.a.createElement("div",{className:"inline-hint"},m.a.createElement(x,{link:o,text:t||Object(b.a)("Learn More\u2026","Front")})):m.a.createElement(O,Object.assign({hint:t?Object(b.a)(t):o,hintLink:o},i))},O=k(m.a.forwardRef((function(e,t){var n=e.hint,a=e.hintLink,o=(e.forwardedRef,Object(r.a)(e,["hint","hintLink","forwardedRef"]));return a?m.a.createElement("span",Object.assign({ref:t,className:"label-hint",hint:n},o),m.a.createElement("a",{href:a,target:"_blank",onClick:function(e){window.Setting.openLink(a),e.preventDefault()}}," ",m.a.createElement(f.h,null))):m.a.createElement("span",Object.assign({ref:t,className:"label-hint",hint:n},o),m.a.createElement(f.h,null))}))),S=function(e){var t=e.keyName,n=e.label,a=e.dictGroup,o=e.checked,i=e.reverse,l=e.onChange,c=e.hint,s=e.hintLink,u=e.inlineHint,p=e.isCell,d=e.disabled,h=Object(r.a)(e,["keyName","label","dictGroup","checked","reverse","onChange","hint","hintLink","inlineHint","isCell","disabled"]),g=m.a.useContext(w.a),f=!p&&g&&(Object(w.c)(g,n,a)||Object(w.c)(g,c))?" search-hit":"";return m.a.createElement("div",Object.assign({className:"checkbox"+(p?"":" row")+f+(d?" disabled":"")},h),m.a.createElement("label",null,m.a.createElement("input",{type:"checkbox",onChange:function(e){l(t,i?!e.target.checked:e.target.checked)},checked:!!o,disabled:d}),Object(b.a)(n,a)),c||s?m.a.createElement(C,{hint:c,inlineHint:u,hintLink:s}):null)},N=m.a.memo((function(e){var t=e.title,n=e.dictGroup,a=e.hint,o=e.hintLink,i=e.breakBeforeHint,r=e.children,l=e.headerStyle,c=e.keyWords,s=e.highlight,u=m.a.useContext(w.a),p=Object(w.c)(u,t,n)||Object(w.c)(u,a)||c&&Object(w.d)(u,c);return m.a.createElement("div",{className:"input-group"+(p?" search-hit":"")+(s?" blink-area":"")},m.a.createElement("h5",{className:"input-group-header",style:l},m.a.createElement("span",{className:"input-group-header-title"},Object(b.a)(t,n)),a||o?m.a.createElement("span",{className:"input-group-header-hint"+(i?" hint-break-before":"")},m.a.createElement(x,{link:o,text:a||Object(b.a)("Learn More\u2026")})):null),m.a.createElement("div",{className:"input-group-content"},r))})),j=function(e){var t=e.keyName,n=e.isCell,a=e.options,o=e.value,i=e.type,l=e.hint,c=e.inlineHint,s=e.optionsDict,u=e.onChange,p=e.disabled,d=Object(r.a)(e,["keyName","isCell","options","value","type","hint","inlineHint","optionsDict","onChange","disabled"]),h=m.a.useContext(w.a),g=h&&!n&&(Object(w.d)(h,Object.values(a),s)||Object(w.c)(h,l))?" search-hit":"";return m.a.createElement("div",Object.assign({className:(n?"cell":"row")+g},d),m.a.createElement("select",{onChange:function(e){var n=e.target.value;"number"==i?n=e.target.value-0:"boolean"==i&&(n=e.target.value+""=="true"),u(t,n)},value:o,disabled:p},function(){var e=[];for(var t in a)"_seperator"==t?e.push(m.a.createElement("option",{key:t,disabled:!0},"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")):e.push(m.a.createElement("option",{key:t,value:t},Object(b.a)(a[t],s)));return e}()),l?m.a.createElement(C,{hint:l,inlineHint:c}):null)},_=function(e){var t=e.forMac,n=e.forWin,a=e.forLinux,o=e.visible,i=e.children;return function(e){return(e=e||t&&window.isMac||n&&window.isWin||a&&window.isLinux)?m.a.createElement(m.a.Fragment,null,i):null}(o)},L=function(e){var t=e.label,n=e.style;return m.a.createElement("span",{style:n},Object(b.a)(t))},F=function(e){var t=e.keyWords,n=e.style,a=e.children,o=m.a.useContext(w.a),i=o&&t&&Object(w.d)(o,t)?" search-hit":"";return m.a.createElement("div",{className:"row"+i,style:n},a)},P=function(e){var t=e.label,n=e.style,a=Object(r.a)(e,["label","style"]);return m.a.createElement("button",Object.assign({"aria-label":Object(b.a)(t),style:Object(i.a)({},n),className:"btn btn-default"},a),Object(b.a)(t))},M=function(e){var t=e.label,n=e.style,a=e.options,o=e.onExtra,l=Object(r.a)(e,["label","style","options","onExtra"]),c=m.a.useRef(null);return m.a.createElement("div",{className:"btn-split-group"},m.a.createElement("button",Object.assign({"aria-label":Object(b.a)(t),style:Object(i.a)({},n),className:"btn btn-default btn-split-left"},l),m.a.createElement("span",{className:"btn-split-main"},Object(b.a)(t))),m.a.createElement("button",{"tab-index":-1,"aria-label":Object(b.a)(t),style:Object(i.a)({},n),className:"btn btn-default btn-split-right",onClick:function(e){e.currentTarget.focus();var t=c.current.classList;t.contains("shown")?t.remove("shown"):t.add("shown")},onBlur:function(){c.current.classList.remove("shown")}},m.a.createElement("span",{className:"icon icon-down-dir"})),m.a.createElement("ul",{className:"dropdown-menu",ref:c},Object.keys(a).map((function(e){return m.a.createElement("li",{key:e,onMouseDown:function(){o(e-0),c.current.classList.remove("shown")}},Object(b.a)(a[e]))}))))},T=function(e){var t=e.className,n=Object(r.a)(e,["className"]);return m.a.createElement("input",Object.assign({type:"text",className:"ty-text-input "+(t||"")},n))},A=function(e){var t=e.value,n=e.keyName,a=e.onChange,o=Object(r.a)(e,["value","keyName","onChange"]);return m.a.createElement("input",Object.assign({type:"number",value:t,onChange:function(e){var t=e.target.value-0;isNaN(t)?a(n,"382"):t<o.min?a(n,"1"):t>o.max?a(n,"999"):a(n,t)}},o))},D=k(m.a.forwardRef((function(e,t){var n=e.icon,a=(e.label,e.hint),o=(e.hintPosition,e.disabled),i=Object(r.a)(e,["icon","label","hint","hintPosition","disabled"]);return m.a.createElement("span",Object.assign({role:"button",className:"icon-button icon icon-"+n+(o?" button-disabled":""),"aria-label":a,ref:t},i))}))),I=function(e){var t=e.keyName,n=e.value,a=e.defaultPath,o=e.placeholder,i=e.onChange,r=e.option;return m.a.createElement("div",{className:"file-input"},m.a.createElement("input",{type:"text",value:n||"",onChange:function(e){i(t,e.target.value)},placeholder:o}),m.a.createElement(D,{hint:Object(b.a)("Select"),icon:"folder",style:{marginLeft:"1ch",cursor:"pointer"},onClick:function(){var e=n||a;window.Setting.selectFile(e,[r],(function(e){e&&i(t,e)}))},hintPosition:"bottom"}))},V=k(m.a.forwardRef((function(e,t){var n=e.value,a=e.onSelect,o=(e.hintPosition,Object(r.a)(e,["value","onSelect","hintPosition"])),i=(n||"").replace(/[\\\/]\s*$/,"").replace(/.*[\\\/]/,"");return"/"==n&&(i="/"),m.a.createElement("span",Object.assign({ref:t,type:"text",className:"dir-path",placeholder:Object(b.a)("Select Custom Folder..."),readOnly:!0,onClick:function(){n?window.Setting.openFolder(n):a()}},o),i||Object(b.a)("Select Custom Folder..."))}))),W=function(e){var t=e.hidden,n=e.value,a=e.keyName,o=e.onChange,i=(Object(r.a)(e,["hidden","value","keyName","onChange"]),function(){window.Setting.selectFolder(n,(function(e){var t=e||n;t&&o(a,t)}))});return t?null:m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"select-pin-input-group"},m.a.createElement(V,{hint:n,value:n,onSelect:i,hintPosition:"bottom"}),m.a.createElement(D,{icon:"folder",onClick:i,hint:Object(b.a)("Select custom folder"),hintPosition:"bottom"})))},R=function(e){var t=e.value,n=e.customValue,a=e.onChange,i=m.a.useState(n||14),r=Object(o.a)(i,2),l=r[0],c=r[1];var s,u=function(e){"radio"===e.target.type&&a("useCustomFontSize",e.target.value+""==="true")};return m.a.createElement("div",{className:"row"},m.a.createElement("span",{className:"radio",style:{minWidth:"40%",paddingRight:"8px",height:"26px"}},m.a.createElement("label",{style:{overflow:"visible"}},m.a.createElement("input",{type:"radio",name:"useCustomFontSize",value:!1,checked:!1===t,onChange:u}),Object(b.a)("Auto ( Recommended )"))),m.a.createElement("span",{className:"radio",style:{width:"40%",height:"26px"}},m.a.createElement("label",{style:{overflow:"visible",whiteSpace:"nowrap"}},m.a.createElement("input",{type:"radio",name:"useCustomFontSize",value:!0,checked:!0===t,onChange:u}),Object(b.a)("Customized"),(s=t+""==="true",m.a.createElement("span",{className:"custom-font-input",style:{visibility:s?"visible":"hidden"}},m.a.createElement("input",{style:{marginLeft:"8px",marginTop:"-4px"},step:"1",type:"number",max:"24",size:"2",min:"9",value:l,onChange:function(e){var t=e.target.value-0;isNaN(t)||(c(Math.floor(t)),t<=24&&t>=9&&a("customFontSize",t))},onBlur:function(){var e=l;e>24&&(e=24),e<9&&(e=9),c(e),a("customFontSize",e)}})," ",m.a.createElement("span",null,"px"))))))},H=function(e){var t=e.keyName,n=e.value,a=e.type,o=e.options,i=e.onChange;Object(r.a)(e,["keyName","value","type","options","onChange"]);return m.a.createElement("div",{className:"row",onChange:function(e){var n=e.target.value;"number"==a?n=e.target.value-0:"boolean"==a&&(n=e.target.value+""=="true"),i(t,n)},value:n},function(){var e=[];for(var a in o)e.push(m.a.createElement("span",{key:a,className:"radio",style:{width:"40%"}},m.a.createElement("label",null,m.a.createElement("input",{type:"radio",name:t,value:a,defaultChecked:n+""==a}),Object(b.a)(o[a]))));return e}())},z=function(e){var t,n,a=e.indentSize,o=e.prettyIndent,i=Object(r.a)(e,["indentSize","prettyIndent"]);return a-=0,o=o+""==="true",m.a.createElement(N,{title:"Indent Size on Save",breakBeforeHint:!0,hint:"only apply to quotes and lists created from menu bar or hybrid view",headerStyle:{marginBottom:"0"}},m.a.createElement(U,{rows:[[m.a.createElement("div",null,m.a.createElement(j,Object.assign({keyName:"indentSize",style:{width:"80px",minHeight:"25px"},options:{0:"Auto",2:"2",3:"3",4:"4",5:"5","-1":"Tab"},isCell:!0},i,{onChange:function(e,t){i.onChange(e,t-0)},value:(a||0)+""})),m.a.createElement(S,Object.assign({keyName:"prettyIndent",style:{marginTop:"8px"},label:"Pretty indentation",isCell:!0},i,{checked:!!o}))),m.a.createElement("div",{style:{marginTop:"4px",border:"1px solid",padding:"0 8px"}},m.a.createElement("pre",{style:{margin:"0",lineHeight:"1.5"}},(t=a,n=o,(t=t||2)<0?"> Quote\n- List item\n\t1. sub-bullet\n\t\tline2":(n?["> Quote\n- List item\n  1. sub-bullet\n     line2",">  Quote\n-  List item\n   1. sub-bullet\n      line2",">   Quote\n-   List item\n    1.  sub-bullet\n        line2",">    Quote\n-    List item\n     1.   sub-bullet\n          line2"]:["> Quote\n- List item\n  1. sub-bullet\n     line2","> Quote\n- List item\n   1. sub-bullet\n      line2","> Quote\n- List item\n    1. sub-bullet\n        line2","> Quote\n- List item\n     1. sub-bullet\n          line2"])[(t||2)-2])))]]}))},U=function(e){var t=e.className,n=e.rows,a=m.a.useContext(w.a);return m.a.createElement("table",{className:"label-input-group "+(t||"")},m.a.createElement("tbody",null,n.map((function(e,t){var n=e[2]||e[0],o=a&&"string"==typeof n&&Object(w.c)(a,n)?"search-hit":"";return m.a.createElement("tr",{key:t,className:o},m.a.createElement("td",null,"string"==typeof e[0]?Object(b.a)(e[0]):e[0]),m.a.createElement("td",null,e[1]),e[2]?m.a.createElement(C,{hint:e[2]}):null)}))))},B=function(){return m.a.createElement("header",{className:"window-header"},m.a.createElement("div",{className:"window-header-content"},m.a.createElement("div",{className:"window-header-title"},m.a.createElement("button",{className:"window-header-back",onClick:window.Setting.close},m.a.createElement("span",{className:"icon"},m.a.createElement(f.a,null))),m.a.createElement("h2",null,Object(b.a)("Preferences")))),m.a.createElement("button",{className:"header-close",onClick:window.Setting.close},m.a.createElement("span",{className:"icon"},m.a.createElement(f.b,null))))},G=function(e){return g.a.createPortal(m.a.createElement("div",{className:"modal-backdrop"},m.a.createElement("div",{className:"modal-content "+(e.className||""),onKeyDown:e.onKeyDown},m.a.createElement("div",{className:"modal-icon",style:{display:"none",textAlign:"center"}},m.a.createElement("img",{src:"/icon.png",style:{width:"64px"}})),void 0===e.title?null:m.a.createElement("div",{className:"modal-title"},m.a.createElement("h3",null,Object(b.a)(e.title))),m.a.createElement("div",{className:"modal-body"},e.children),m.a.createElement("div",{className:"modal-footer"},e.footer?e.footer:m.a.createElement("div",null,m.a.createElement("button",{className:"btn btn-primary",onClick:e.closeAction},Object(b.a)("OK")))))),document.querySelector("#modal"))},$=function(e){var t,n=e.candidates,i=e.value,l=e.onChange,c=e.placeholder,s=Object(r.a)(e,["candidates","value","onChange","placeholder"]),u=m.a.useState(!1),p=Object(o.a)(u,2),d=p[0],h=p[1],g=m.a.useState(-1),f=Object(o.a)(g,2),w=f[0],v=f[1],k=m.a.useState(!0),E=Object(o.a)(k,2),x=E[0],C=E[1],O=m.a.useRef(null),S=y()().Portal,N=m.a.useRef(null),j=n.filter((function(e){return!i||0==e.indexOf(i.toLowerCase())})),_=m.a.useCallback((function(){return i=i||"",m.a.createElement("div",{ref:N,className:"input-autocomplete"},j.map((function(e,t){return m.a.createElement("div",{className:"input-autocomplete-row ".concat(t==w?"active":""),key:e,onMouseDown:function(t){l(e),t.preventDefault(),t.stopPropagation(),F()}},e)})))}),[j]),L=function(e){v(-1),C(!0),l(e)},F=function(){O.current&&(O.current.select(),C(!1))};return m.a.useEffect((function(){if(d&&N.current){var e=O.current.getBoundingClientRect(),t=document.body.scrollTop;N.current.style.top=e.bottom+2+t+"px",N.current.style.width=e.width+"px",N.current.style.left=e.left+"px"}}),[d,N.current]),m.a.useEffect((function(){if(!(w<0)&&N.current){var e=N.current,t=e.children[w];if(t){var n=e.scrollTop,a=t.offsetTop;(a>n+180-8||a+30<n+8)&&(e.scrollTop=a)}}}),[w]),m.a.createElement(m.a.Fragment,null,m.a.createElement("input",Object.assign((t={spellcheck:!1,ref:O,type:"text",className:"ty-text-input",onFocus:function(e){e.target.select(),h(!0)},onBlur:function(){h(!1)},value:i||""},Object(a.a)(t,"type","text"),Object(a.a)(t,"onChange",(function(e){return L(e.target.value)})),Object(a.a)(t,"placeholder",Object(b.a)(c||"")),Object(a.a)(t,"onKeyDown",(function(e){"Enter"===e.key?(w>=0&&L(j[w]),C(!1)):"Esc"===e.key?C(!1):"ArrowUp"===e.key?(v(w-1<0?j.length-1:w-1),C(!0)):"ArrowDown"===e.key&&(w+1>j.length?v(0):v(w+1),C(!0))})),t),s)),j.length&&x&&d?m.a.createElement(S,null,_()):null)},q=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("style",null,"\n      .backdrop {\n        position: absolute;\n        top: 122px;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        backdrop-filter: blur(5px);\n        -webkit-backdrop-filter: blur(5px);\n      }\n      \n      .backdrop .lds-spinner {\n        zoom: 0.8;\n        margin-top: 23vh;\n      }\n    "),m.a.createElement("div",{className:"backdrop"},m.a.createElement("div",{className:"lds-spinner"},m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null))))}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h}));var a=n(6),o=n(21),i=n(0),r=n.n(i),l=n(1),c=n(12),s=r.a.createContext(""),u=null,p=function(e,t){return u&&(clearTimeout(u),u=null),u=setTimeout((function(){u=null,t(e)}),100),e},d=function(e,t,n){if(!e||!t)return!1;if(t.toLowerCase().indexOf(e.toLowerCase())>-1)return!0;if("Base"!==(window.Setting.locale()||"Base")&&Object(l.a)(t,n).toLowerCase().indexOf(e.toLowerCase())>-1)return!0;return!1},m=function(e,t,n){if(!e)return!1;var a,i=Object(o.a)(t);try{for(i.s();!(a=i.n()).done;){var r=a.value;if(d(e,r,n))return!0}}catch(l){i.e(l)}finally{i.f()}return!1},h=function(e){var t=e.onSearch,n=r.a.useRef(null),o=r.a.useState((Object(c.a)(window.isMac?"command+f":"ctrl+f",(function(e,t){e.preventDefault(),window.searchOnPreferencePanel()})),"")),i=Object(a.a)(o,2),s=i[0],u=i[1];return window.searchOnPreferencePanel=function(){n.current&&(n.current.focus(),n.current.select())},r.a.createElement("div",{style:{position:"relative"},className:s?" show-clear-icon":""},r.a.createElement("input",{ref:n,className:"search-input",type:"search",placeholder:Object(l.a)("Search for\u2026","Panel"),value:s,onChange:function(e){u(p(e.target.value,t))}}),r.a.createElement("span",{className:"clear-btn-icon icon icon-cancel-circled",onMouseDown:function(e){u(p("",t)),e.preventDefault(),e.stopPropagation()}}))}},,,function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return g}));var a=n(0),o=n.n(a),i=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422s-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256s17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"}),o.a.createElement("path",Object.assign({d:"M235 339h42v42h-42zM276.8 318h-41.6c0-67 62.4-62.2 62.4-103.8 0-22.9-18.7-41.7-41.6-41.7S214.4 192 214.4 214h-41.6c0-46 37.2-83 83.2-83s83.2 37.1 83.2 83.1c0 52-62.4 57.9-62.4 103.9z"},e)))},r=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o.a.createElement("path",Object.assign({d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},e)))},l=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o.a.createElement("path",Object.assign({d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"},e)))},c=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M128 128h768a42.666667 42.666667 0 0 1 42.666667 42.666667v682.666666a42.666667 42.666667 0 0 1-42.666667 42.666667H128a42.666667 42.666667 0 0 1-42.666667-42.666667V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667z m170.666667 533.333333v-170.666666l85.333333 85.333333 85.333333-85.333333v170.666666h85.333334v-298.666666h-85.333334l-85.333333 85.333333-85.333333-85.333333H213.333333v298.666666h85.333334z m469.333333-128v-170.666666h-85.333333v170.666666h-85.333334l128 128 128-128h-85.333333z"}))},s=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M394.368 810.666667H896v85.333333H128v-181.034667l422.4-422.4 180.992 181.077334L394.325333 810.666667z m216.32-578.389334l90.538667-90.538666a42.666667 42.666667 0 0 1 60.330666 0l120.704 120.704a42.666667 42.666667 0 0 1 0 60.330666l-90.538666 90.496-180.992-180.992z","p-id":"15502"}))},u=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e)," ",o.a.createElement("path",{d:"M820.394667 799.232l75.434666-75.434667 75.392 75.434667a106.666667 106.666667 0 1 1-150.826666 0zM378.794667 46.08l482.730666 482.688a42.666667 42.666667 0 0 1 0 60.373333l-362.026666 362.026667a42.666667 42.666667 0 0 1-60.330667 0l-362.026667-362.026667a42.666667 42.666667 0 0 1 0-60.373333l331.861334-331.861333-90.538667-90.496L378.88 46.08zM469.333333 257.28L167.637333 558.933333H770.986667L469.333333 257.28z"}))},p=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M298.666667 725.333333h426.666666v213.333334H298.666667v-213.333334z m512 128v-213.333333H213.333333v213.333333H128a42.666667 42.666667 0 0 1-42.666667-42.666666V384a42.666667 42.666667 0 0 1 42.666667-42.666667h768a42.666667 42.666667 0 0 1 42.666667 42.666667v426.666667a42.666667 42.666667 0 0 1-42.666667 42.666666h-85.333333zM213.333333 426.666667v85.333333h128v-85.333333H213.333333z m85.333334-341.333334h426.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v128H256V128a42.666667 42.666667 0 0 1 42.666667-42.666667z"}))},d=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M928 896H96c-53.02 0-96-42.98-96-96V224c0-53.02 42.98-96 96-96h832c53.02 0 96 42.98 96 96v576c0 53.02-42.98 96-96 96zM224 240c-61.856 0-112 50.144-112 112s50.144 112 112 112 112-50.144 112-112-50.144-112-112-112zM128 768h768V544l-175.03-175.03c-9.372-9.372-24.568-9.372-33.942 0L416 640l-111.03-111.03c-9.372-9.372-24.568-9.372-33.942 0L128 672v96z",fill:""}))},m=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M298.666667 490.666667a192 192 0 1 1 0-384 192 192 0 0 1 0 384z m0 426.666666a192 192 0 1 1 0-384 192 192 0 0 1 0 384z m426.666666-426.666666a192 192 0 1 1 0-384 192 192 0 0 1 0 384z m0 426.666666a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"}))},h=function(e){return o.a.createElement("svg",Object.assign({viewBox:"0 0 512 512"},e),o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M32,271.692v192c0,17.664,14.368,32,32,32h160v-224H32z"}))),o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M480,143.692H378.752c7.264-4.96,13.504-9.888,17.856-14.304c25.824-25.952,25.824-68.192,0-94.144 c-25.088-25.28-68.8-25.216-93.856,0c-13.888,13.92-50.688,70.592-45.6,108.448h-2.304c5.056-37.856-31.744-94.528-45.6-108.448 c-25.088-25.216-68.8-25.216-93.856,0C89.6,61.196,89.6,103.436,115.36,129.388c4.384,4.416,10.624,9.344,17.888,14.304H32 c-17.632,0-32,14.368-32,32v48c0,8.832,7.168,16,16,16h208v-64h64v64h208c8.832,0,16-7.168,16-16v-48 C512,158.06,497.664,143.692,480,143.692z M222.112,142.636c0,0-1.344,1.056-5.92,1.056c-22.112,0-64.32-22.976-78.112-36.864 c-13.408-13.504-13.408-35.52,0-49.024c6.496-6.528,15.104-10.112,24.256-10.112c9.12,0,17.728,3.584,24.224,10.112 C208.128,79.5,229.568,134.924,222.112,142.636z M295.776,143.692c-4.544,0-5.888-1.024-5.888-1.056 c-7.456-7.712,13.984-63.136,35.552-84.832c12.896-13.024,35.456-13.088,48.48,0c13.44,13.504,13.44,35.52,0,49.024 C360.128,120.716,317.92,143.692,295.776,143.692z"}))),o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M288,271.692v224h160c17.664,0,32-14.336,32-32v-192H288z"}))))},g=function(e){return o.a.createElement("svg",Object.assign({version:"1.1",viewBox:"0 0 512 512"},e),o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M501.609,384.603L320.543,51.265c-13.666-23.006-37.802-36.746-64.562-36.746c-26.76,0-50.896,13.74-64.562,36.746 c-0.103,0.176-0.19,0.352-0.293,0.528L10.662,384.076c-13.959,23.491-14.223,51.702-0.719,75.457 c13.535,23.769,37.919,37.948,65.266,37.948h360.544c27.347,0,52.733-14.179,66.267-37.948 C515.524,435.779,515.261,407.566,501.609,384.603z M225.951,167.148c0-16.586,13.445-30.03,30.03-30.03 c16.586,0,30.03,13.445,30.03,30.03v120.121c0,16.584-13.445,30.03-30.03,30.03s-30.03-13.447-30.03-30.03V167.148z M255.981,437.421c-24.839,0-45.046-20.206-45.046-45.046c0-24.839,20.206-45.045,45.046-45.045 c24.839,0,45.045,20.206,45.045,45.045C301.027,417.214,280.821,437.421,255.981,437.421z"}))))}},,,,function(e,t,n){e.exports=n(30)},,function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function l(e){a(r,o,i,l,c,"next",e)}function c(e){a(r,o,i,l,c,"throw",e)}l(void 0)}))}}n.d(t,"a",(function(){return o}))},,,,,,,,,,function(e,t){Object.values=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={A5:{name:"A5",pt:[420,595],mm:[148,210]},A4:{name:"A4",pt:[595,842],mm:[210,297]},A3:{name:"A3",pt:[842,1191],mm:[297,420]},Letter:{name:"US Letter",pt:[612,791],mm:[216,279]},Legal:{name:"US Legal",pt:[612,1009],mm:[216,356]},Tabloid:{name:"Tabloid",pt:[791,1225],mm:[279,432]}}},,,,,function(e,t,n){},function(e,t,n){var a=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",r=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),r=new x(a||[]);return i._invoke=function(e,t,n){var a="suspendedStart";return function(o,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var r=n.delegate;if(r){var l=y(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=s(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}(e,n,r),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var u={};function p(){}function d(){}function m(){}var h={};h[o]=function(){return this};var g=Object.getPrototypeOf,f=g&&g(g(C([])));f&&f!==t&&n.call(f,o)&&(h=f);var b=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var a;this._invoke=function(o,i){function r(){return new t((function(a,r){!function a(o,i,r,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"===typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,r,l)}),(function(e){a("throw",e,r,l)})):t.resolve(p).then((function(e){u.value=e,r(u)}),(function(e){return a("throw",e,r,l)}))}l(c.arg)}(o,i,a,r)}))}return a=a?a.then(r,r):r()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=b.constructor=m,m.constructor=d,d.displayName=l(m,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(v.prototype),v.prototype[i]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,a,o,i){void 0===i&&(i=Promise);var r=new v(c(t,n,a,o),i);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(b),l(b,r,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return r.type="throw",r.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],r=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var o=a.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=a}catch(o){Function("r","regeneratorRuntime = r")(a)}},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(a){"object"===typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(11),o=n.n(a),i=n(13),r=n(6),l=n(0),c=n.n(l),s=n(2),u=n(1),p=function(e){var t=e.command,n=e.rawOutput,a=e.rawError,o=e.images,i=e.finalError,r=e.closeAction;return c.a.createElement(s.m,{title:null===i?"Validating\u2026":i?"Validation Failed":"Validation Succeed",className:i?"modal-error":!1===i?"modal-success":"",footer:c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary",disabled:null===i,onClick:r,style:{marginRight:"16px"}},Object(u.a)("OK")),c.a.createElement("button",{className:"btn btn-default",onClick:r},Object(u.a)("Cancel"))),onKeyDown:function(e){if(null!==i&&27==e.keyCode)return r(),e.stopPropagation(),!1}},t?c.a.createElement("h6",{className:"console-label"},Object(u.a)("Testing image uploading using command:")):null,t?c.a.createElement("pre",{className:"console-command"},t):null,null===i?c.a.createElement("h6",{className:"console-label"},Object(u.a)("Running\u2026 Waiting for results.")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h6",{className:"console-label "+(a?"console-label-error":"")},Object(u.a)(a?"Error from the console:":"Output from the console:")),c.a.createElement("pre",{className:"console-"+(a?"error":"info")},n),a||!o?null:c.a.createElement("h6",{className:"console-label "+(i?"console-label-error":"console-label-success")},Object(u.a)(i?"Failed to fetch uploaded image from command output.":"Successfully get uploaded image url.")),o&&o.length?c.a.createElement("pre",{className:"console-command"},o.map((function(e){return c.a.createElement("a",{target:"__blank",href:"i",style:{display:"block"},onClick:function(){return window.Setting.openLink(e),!1}},e)}))):null))},d=function(e){var t=e.value,n=e.validatePath,a=e.customPath,o=e.onChange,i=c.a.useRef(null),l=c.a.useState(n&&n(a)),p=Object(r.a)(l,2),d=p[0],m=p[1],h=null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.r,{keyName:"image_save_location",value:t,onChange:function(e,t){"custom"==t&&(setTimeout((function(){i.current&&i.current.focus()}),100),o("custom_image_save_location",a||"./${filename}"),m(null)),o(e,t||"")},options:{"":"No special action",folder:"Copy image to current folder (./)","per-file-assert":"Copy image to ./${filename}.assets",ipic:"Upload image",custom:"Copy image to custom folder"}}),"custom"!==t?null:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row",style:{display:"flex",alignItems:"center"}},c.a.createElement("input",{className:d?"on-error":"",ref:i,type:"text",value:a,onChange:function(e){m(null),o("custom_image_save_location",e.target.value)},onBlur:function(e){h=setTimeout((function(){m(n&&n(a))}),50)},style:{paddingLeft:"4px",flexGrow:"1",maxWidth:"80%"},onFocus:function(e){h&&clearTimeout(h),e.target.select()}}),c.a.createElement(s.i,{hint:Object(u.a)("Select custom folder"),icon:"folder",style:{marginLeft:"1ch",cursor:"pointer"},onClick:function(){h&&clearTimeout(h);var e=/^[\/]/.exec(a)||/^[a-z]+:\\/i.exec(a)?a:null;window.Setting.selectFolder(e,(function(e){e&&o("custom_image_save_location",e)}))},hintPosition:"bottom"}),c.a.createElement(s.i,{icon:"cancel-circled",style:{marginLeft:"8px"},onClick:function(){m(null),o("custom_image_save_location","./${filename}")},hint:Object(u.a)("Reset to Default"),hintPosition:"bottom"})),d?c.a.createElement("div",{className:"row on-error",style:{opacity:"0.8",marginTop:"4px",fontSize:"12px",marginRight:"16px",minHeight:"initial",userSelect:"text"}},d):null,c.a.createElement("div",{className:"row",style:{opacity:"0.8",marginTop:"4px",fontSize:"12px",marginRight:"16px",userSelect:"text",lineHeight:"1.2"}}," ",Object(u.a)("Please specify a relative path to current folder which begins with './' or '../', or an absolute folder path. (`${filename}` representing for currents filename.)"))))},m=function(e){var t=e.app;return c.a.createElement(s.k,{title:Object(u.a)("When Insert\u2026"),hintLink:"https://support.typora.io/Images/#when-insert-images",dictGroup:"Menu"},c.a.createElement(d,{value:t.getValue("image_save_location")||"",onChange:t.onChange,customPath:t.getValue("custom_image_save_location"),validatePath:t.imageFolderIsInvalid}),c.a.createElement(s.c,{style:{marginTop:"8px"},keyName:"no_image_move_for_local",label:"Apply above rules to local images",checked:!t.getValue("no_image_move_for_local"),onChange:t.onChange,reverse:!0}),c.a.createElement(s.c,{keyName:"apply_image_move_for_web",label:"Apply above rules to online images",checked:!!t.getValue("apply_image_move_for_web"),onChange:t.onChange}),c.a.createElement(s.c,{keyName:"use_relative_path_for_img",label:"Use relative path if possible",checked:!!t.getValue("use_relative_path_for_img"),onChange:t.onChange}),c.a.createElement(s.c,{keyName:"allow_image_upload",label:"Allow upload images automatically based on YAML settings",checked:!!t.getValue("allow_image_upload"),onChange:t.onChange}),c.a.createElement(s.c,{keyName:"autoEscapeImageURL",label:"Auto escape image URL when insert",checked:!!t.getValue("autoEscapeImageURL"),onChange:t.onChange,hint:"For example, if you insert a file at 'img/example file.png', it will become 'img/example%20file.png'. Enable this for better compatibility with other Markdown engines, or disable this for better readability."}))},h=function(){if(!e.require)return"";var t=window.isWin?"\\":"/";return window.Setting.userDataPath()+t+"picgo"+t+(window.isWin?"x64"==e.process.arch?"win64":"win32":"linux")+t+"picgo"+(window.isWin?".exe":"")},g=function(e){var t=e.app,n=c.a.useState(null),a=Object(r.a)(n,2),o=a[0],i=a[1],l=c.a.useState(null),d=Object(r.a)(l,2),m=d[0],g=d[1],f=t.getValue("image_uploader"),b="zh-Hans"==(window.Setting.locale()||""),k={"":"None",ipic:"iPic",upic:"uPic","picgo-intro":"PicGo-Core (command line)","picgo-cli":"PicGo-Core (command line)","picgo-app":"PicGo.app",custom:"Custom Command"};window.isNodeHtml?(k["picgo-app"]="PicGo (app)",window.isMacNode||(delete k.upic,delete k.ipic),delete k["picgo-intro"]):delete k["picgo-cli"],b||window.isDebug||"picgo-app"===f||delete k["picgo-app"];var E=[["Image Uploader",c.a.createElement(s.r,{onChange:t.onChange,keyName:"image_uploader",value:t.getValue("image_uploader"),options:k})]],x={ipic:"iPic","picgo-cli":"PicGo-Core CLI","picgo-intro":"PicGo-Core CLI","picgo-app":"PicGo.app",upic:"uPic"};window.isNodeHtml&&(x["picgo-app"]="PicGo (app)");var C=f;"custom"==f?C=t.getValue("custom_image_uploader"):"ipic"==f?C="ipic":"upic"==f?C="/Applications/uPic.app/Contents/MacOS/uPic -o url -u":"picgo-cli"==f&&(C=h()+" u",window.isWin&&(C="@chcp 65001 >nul & cmd /d/s/c "+C));var O=null,S=function(){"ipic"==f&&window.Setting.openLink(b?"https://itunes.apple.com/cn/app/id1101244278":"https://itunes.apple.com/app/id1101244278"),"upic"==f&&window.Setting.openLink(b?"https://blog.svend.cc/upic/":"https://blog.svend.cc/upic/en/"),"picgo-cli"==f&&g(!0),"picgo-intro"==f&&window.Setting.openLink("https://support.typora.io/Upload-Image/#option-2-config-via-cli"),"picgo-app"==f&&window.Setting.openLink("https://molunerfinn.com/PicGo/")},N="https://support.typora.io/Upload-Image/";"ipic"==f&&(N+="#ipic-macos-freemium"),"upic"==f&&(N+="#upic-macos-opensource"),"picgo-cli"==f&&(N+="#picgo-core-command-line-opensource"),"picgo-app"==f&&(N+="#picgoapp-chinese-language-only");var j=x[f]?Object(u.a)("Download %@").replace("%@",x[f]):null;if("picgo-intro"==f)E.splice(1,0,[null,c.a.createElement("span",null,c.a.createElement(s.b,{label:Object(u.a)("Instructions"),onClick:S}))]);else if(f){"picgo-cli"==f&&(j=Object(u.a)("Download or Upgrade"),E.splice(1,0,[null,c.a.createElement(s.b,{label:Object(u.a)("Open Config File"),onClick:y})]));var _=c.a.createElement(s.b,{label:Object(u.a)("Test Uploader"),onClick:function(){O=window.Setting.testImageUploader(C,i,t.getValue("picgo_app_path"))},disabled:!C}),L=c.a.createElement(s.h,{hint:"Instructions",inlineHint:!0,hintLink:N});E.splice(1,0,"custom"==f?[_,L]:[_,c.a.createElement("span",null,c.a.createElement(s.b,{label:j,onClick:S}),"\xa0\xa0",L)])}"custom"==f&&E.splice(1,0,[Object(u.a)("Command"),c.a.createElement("input",{type:"text",value:t.getValue("custom_image_uploader")||"",onChange:function(e){t.onChange("custom_image_uploader",e.target.value)},placeholder:Object(u.a)("e.g: %@").replace("%@",'"/usr/bin/uploader" --upload'),style:{paddingLeft:"4px",flexGrow:"1",width:"90%"}})]),"picgo-app"==f&&window.isNodeHtml&&E.splice(1,0,[Object(u.a)("PicGo Path"),c.a.createElement(s.e,{keyName:"picgo_app_path",value:t.getValue("picgo_app_path")||"",defaultPath:window.isWin?"C:\\Program Files\\PicGo\\PicGo.exe":"",placeholder:Object(u.a)("e.g: %@").replace("%@",window.isWin?"C:\\Program Files\\PicGo\\PicGo.exe":"/usr/bin/picgo"),onChange:t.onChange,option:{name:Object(u.a)("Executable"),extensions:[window.isWin?"exe":""]}})]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.k,{title:Object(u.a)("Image Upload Setting"),hintLink:"https://support.typora.io/Upload-Image/",dictGroup:"Menu"},c.a.createElement(s.v,{rows:E,className:"image-upload-group"})),m?c.a.createElement(w,{onCancel:function(){g(null)},onStartDownload:function(){g(null),v(t)}}):null,o?c.a.createElement(p,Object.assign({closeAction:function(){O&&O(),i(null)}},o)):null)};function f(){return c.a.createElement(s.o,{active:3==this.state.activeTab,"data-index":"3"},this.panelHeader(Object(u.a)("Image","Menu")),c.a.createElement(m,{app:this}),c.a.createElement(g,{app:this}))}var b=function(t){return new Promise((function(n){var a=e.require("fs");a.access(t,a.F_OK,(function(a){a?n(null):e.require("child_process").execFile(t,["--version"],(function(e,t,a){n(e?"x"+(e.message||a):t)}))}))}))},w=function(e){var t=e.onCancel,n=e.onStartDownload,a=c.a.useState(Object(u.a)("Checking\u2026")),o=Object(r.a)(a,2),i=o[0],l=o[1],p=c.a.useState(void 0),d=Object(r.a)(p,2),m=d[0],g=d[1],f=c.a.useState("Download"),w=Object(r.a)(f,2),v=w[0],y=w[1];return c.a.useEffect((function(){var e=h();Promise.all([b(e),fetch("https://github.com/typora/PicGo-cli/releases/download/latest/version").then((function(e){return e.text()})).catch((function(e){return Promise.resolve("x"+e.message)}))]).then((function(e){var t=e[0],n=e[1];return null==t?(g(Object(u.a)("Download %@").replace("%@","PicGo-Core (command line)")),l(Object(u.a)("Loading PicGo-Core License\u2026")),fetch("https://raw.githubusercontent.com/PicGo/PicGo-Core/dev/License").then((function(e){return e.text()})).then((function(e){l(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"PicGo-Core (command line) is a pre-built command line wrapper of PicGo-Core, license info for PicGo-Core is:"),c.a.createElement("pre",null,e)))})),void y(Object(u.a)("Agree and Download"))):"x"==t[0]?(g("Failed to get installed version of PicGo-Core (command line)"),l(c.a.createElement("pre",null,t.substr(1))),void y(Object(u.a)("Download and Reinstall"))):"x"==n[0]?(g("Failed to get latest version of PicGo-Core (command line)"),l(c.a.createElement("pre",null,"Fetch https://github.com/typora/PicGo-cli/releases/download/latest/version return:",c.a.createElement("br",null),n.substr(1))),void y("Download")):(l(Object(u.a)("Latest version is $1, your version is $2").replace("$2",t).replace("$1",n)),void(t.trim()==n.trim()?(g("You have the latest PicGo-Core (CLI)"),y(Object(u.a)("Download and Reinstall"))):(g("Newer version is available"),y(Object(u.a)("Download")))))}))}),[]),c.a.createElement(s.m,{title:m,footer:c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary",onClick:n},Object(u.a)(v)),c.a.createElement("button",{className:"btn btn-default",onClick:t},Object(u.a)("Cancel")))},i)},v=function(){window.Setting.invoke("setting.doDownloadPicgo")},y=function(){var t=Object(i.a)(o.a.mark((function t(){var n,a,i,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.require("fs-extra"),a=e.require("fs-plus"),i=e.require("electron"),r=e.require("path").normalize(window._options.userPath+"/.picgo/config.json"),a.isFileSync(r)||(n.ensureFileSync(r),n.writeFileSync(r,"{\n\n}")),t.next=7,i.shell.openPath(r);case 7:t.sent&&(window.isWin?e.require("child_process").spawn("C:\\windows\\notepad.exe",[r]):i.shell.showItemInFolder(r));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}).call(this,n(32))},,function(e,t,n){"use strict";var a=n(5),o=n(9),i=n(3),r=n(15),l=n(16),c=n(18),s=n(17),u=n(0),p=n.n(u),d=n(8),m=n.n(d),h=(n(29),n(46),n(1)),g=n(4),f=n(7),b=n(2),w=n(34);function v(){var e=this;return p.a.createElement(b.o,{active:1==this.state.activeTab,"data-index":"1"},this.panelHeader("Appearance"),p.a.createElement(b.d,{visible:window.isMac},p.a.createElement(b.k,{title:"Window Style",keyWords:["Classic","Seamless"]},p.a.createElement(b.p,{keyName:"use_seamless_window",value:!!this.getValue("use_seamless_window")+"",options:{false:"Classic",true:"Seamless"},onChange:function(t,n){e.onChange(t,n+""==="true")}}))),p.a.createElement(b.d,{forWin:!0,visible:window.isMacNode},p.a.createElement(b.k,{title:"Window Style",keyWords:["Classic","Unibody"],hint:"(applied after restart)",breakBeforeHint:!0},p.a.createElement(b.p,{keyName:"framelessWindow",value:!!this.getValue("framelessWindow")+"",options:{false:"Classic",true:"Unibody"},onChange:function(t,n){e.onChange(t,n+""==="true")}}))),p.a.createElement(b.k,{title:"Font Size"},p.a.createElement(b.g,{value:!!this.getValue("useCustomFontSize"),customValue:this.getValue("customFontSize"),onChange:this.onChange})),p.a.createElement(b.d,{forMac:!0},p.a.createElement(b.k,{title:"Word Count"},p.a.createElement(b.c,{label:"Always Show Word Count",keyName:"always_show_wordcount",checked:!!this.getValue("always_show_wordcount"),onChange:this.onChange}),p.a.createElement(b.q,{style:{marginBottom:"0"},keyWords:["Reading Speed"]},p.a.createElement(b.t,{label:"Reading Speed"}),":",p.a.createElement(b.n,{keyName:"wordsPerMinute",style:{width:"60px",margin:"0 8px",paddingLeft:"8px"},value:this.getValue("wordsPerMinute")||382,onChange:this.onChange,size:3,min:1,max:999}),p.a.createElement(b.t,{label:"words / min",style:{width:"60px",marginRight:"12px"}}),p.a.createElement(b.s,{label:"Reset to Default",onClick:function(){e.resetWordsPerMinute()},options:{120:"120  words/minute (Slow)",240:"240  words/minute (Medium)",382:"382  words/minute (Fast)"},onExtra:function(t){e.resetWordsPerMinute(t-0)}})))),p.a.createElement(b.d,{forWin:!0,forLinux:!0},p.a.createElement(b.k,{title:"Status Bar"},p.a.createElement(b.c,{label:"Show status bar",keyName:"showStatusBar",checked:!!this.getValue("showStatusBar"),onChange:this.onChange})),p.a.createElement(b.k,{title:"Reading Speed"},p.a.createElement(b.q,{style:{marginTop:"-4px"}},p.a.createElement(b.n,{keyName:"wordsPerMinute",style:{width:"60px",margin:"0 8px 0 0",paddingLeft:"8px"},value:this.getValue("wordsPerMinute")||382,onChange:this.onChange,size:3,min:1,max:999}),p.a.createElement(b.t,{label:"words / min",style:{width:"60px",marginRight:"12px"}}),p.a.createElement(b.s,{label:"Reset to Default",onClick:function(){e.resetWordsPerMinute()},options:{120:"120  words/minute (Slow)",240:"240  words/minute (Medium)",382:"382  words/minute (Fast)"},onExtra:function(t){e.resetWordsPerMinute(t-0)}})))),p.a.createElement(b.k,{title:"Left Panel"},p.a.createElement(b.c,{label:"Collapsible Outline on Left Panel",keyName:"can_collapse_outline_panel",checked:!!this.getValue("canCollapseOutlinePanel","can_collapse_outline_panel"),onChange:this.onChange})),p.a.createElement(b.k,{title:"Themes",hintLink:"https://support.typora.io/About-Themes/"},function(){var t=e.getValue("allThemes")||[];if(window.isNode||window.webkit||(t=["themeA","themeB"]),!t.length)return null;var n={};t.forEach((function(e){n[e]=e.replace(/\.css$/,"").replace(/(^|-|_)(\w)/g,(function(e,t,n,a){return(t?" ":"")+n.toUpperCase()}))}));var a=window.isWin||window.isMacNode||window._options.canUseDarkMode,o=a&&!!e.getValue("useSeparateDarkTheme"),i=[[p.a.createElement(b.t,{label:o?"Light Theme":"Theme"}),p.a.createElement(b.r,{onChange:e.onChange,keyName:"theme",value:e.getValue("theme"),options:n})]];return o&&i.push([p.a.createElement(b.t,{label:"Dark Theme"}),p.a.createElement(b.r,{onChange:e.onChange,keyName:"darkTheme",value:e.getValue("darkTheme")||e.getValue("theme"),options:n})]),p.a.createElement(p.a.Fragment,null,p.a.createElement(b.v,{rows:i}),a?p.a.createElement(b.c,{label:"Use separate theme in dark mode",keyName:"useSeparateDarkTheme",checked:o,onChange:e.onChange,hint:"Supported on macOS \u2265 10.15 or Windows 10 \u2265 1903"}):null)}(),p.a.createElement(b.q,{keyWords:["Open Theme Folder","Get Themes"],style:{marginTop:"6px"}},p.a.createElement("span",{style:{minWidth:"40%",display:"inline-block",marginRight:"8px"}},p.a.createElement(b.b,{label:"Open Theme Folder",onClick:function(){window.Setting.openFolder(e.getValue("currentThemeFolder"))}})),p.a.createElement(b.b,{label:"Get Themes",onClick:function(){window.Setting.openLink("http://theme.typora.io")}}))))}var y=n(28);var k=n(25);function E(e){return function(e){if(Array.isArray(e))return Object(y.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(k.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=n(6),C=n(24),O={"":"Current Theme"},S=O,N=function(e){var t={"":Object(h.a)("Current Theme")},n=this.getValue("allThemes")||[];return window.isNode||window.webkit||(n=["themeA","themeB"]),n.length?(n.forEach((function(n){e&&(n.indexOf("night")>-1||n.indexOf("dark")>-1)||(t[n.replace(/\.css$/,"").toLowerCase().replace(/ /g,"-")]=n.replace(/\.css$/,"").replace(/(^|-|_)(\w)/g,(function(e,t,n,a){return(t?" ":"")+n.toUpperCase()})))})),t):null},j={paper:{type:"paper",label:"Paper Size",default:window.isMac?"":"A4"},exportTheme:{type:"themeSelect",excludeDark:!window.isMac,label:"Theme",hint:window.isMac?"Change this option to specify a separated theme for export.":"Change this option to specify a separated theme for export. Dark theme is not supported."},splitPages:{type:"checkbox",label:"Page Break",checkboxLabel:"Page Break Between Top Headings"},header:{type:"string",label:"Header",default:"",placeholder:"None",presetOptions:["${title}","${author}","${pageNo}","${today}"],hintLink:"https://support.typora.io/Export/#header--footer"},footer:{type:"string",label:"Footer",default:"",placeholder:"None",presetOptions:["${title}","No. ${pageNo} / ${totalPages}","Written in Typora","CONFIDENTIAL"],hintLink:"https://support.typora.io/Export/#header--footer"},author:{type:"string",label:"Author",placeholder:"Empty",hintLink:"https://support.typora.io/Export/#pdf-metadata"},appendBody:{type:"textarea",label:"Append Extra Content (HTML)",hintLink:"https://support.typora.io/Export/#add-custom-content-pdf"},allowPerFileSetting:{type:"checkbox",label:"General",checkboxLabel:"Read and overwrite export settings from YAML front matters",hintLink:"https://support.typora.io/Export/#per-file-configurations"}},_={appendHead:{type:"textarea",label:"Append in <head />",hintLink:"https://support.typora.io/Export/#add-custom-contents"},appendBody:{type:"textarea",label:"Append in <body />",hintLink:"https://support.typora.io/Export/#add-custom-contents"},allowPerFileSetting:{type:"checkbox",label:"General",checkboxLabel:"Read and overwrite export settings from YAML front matters",hintLink:"https://support.typora.io/Export/#per-file-configurations"},openExportLocation:!0},L=Object(a.a)({sidebar:{type:"checkbox",checkboxLabel:"Include Outline Sidebar",label:"Outline",dictGroup:"Menu"},exportTheme:{type:"themeSelect",label:"Theme",hint:"Change this option to specify a separated theme for export."}},_),F={imageWidth:{label:"Width",type:"number",unit:"px",default:640,withReset:!0},imageFontSize:{label:"Font Size",type:"number",unit:"px",default:24,withReset:!0},exportTheme:{type:"themeSelect",label:"Theme",hint:"Change this option to specify a separated theme for export."}},P={command:{type:"string",label:"Command",placeholder:"e.g: git commit -am 'save'; git push;",hintLink:"https://support.typora.io/Export/#other-formats-using-custom-commands"},saveDialog:{type:"select",label:"Show Save File Dialog",options:{"":"Do not popup save file dialog",saveFile:"Select file path to save",saveFolder:"Select folder path to save"}},extensions:{type:"string",label:"Target File Extensions (separate by whitespace)",visible:function(e){return"saveFile"==e.saveDialog}}},M={extraArguments:{default:"",type:"string",label:"Extra Arguments",hintLink:"https://support.typora.io/Export/#other-pandoc-options"}},T={targetFormat:{label:"Target Format",type:"string",placeholder:"",suggest:["asciidoc","asciidoctor","beamer","bibtex","biblatex","commonmark","commonmark_x","context","csljson","docbook","docbook4","docbook5","docx","dokuwiki","epub","epub2","epub3","fb2","gfm","markdown_github","haddock","html","html4","html5","icml","ipynb","jats_archiving","jats_articleauthoring","jats_publishing","jats","jira","json","latex","man","markdown","markdown_mmd","markdown_phpextra","markdown_strict","mediawiki","ms","muse","native","odt","opml","opendocument","org","pdf","plain","pptx","rst","rtf","texinfo","textile","slideous","slidy","dzslides","revealjs","s5","tei","xwiki","zimwiki"]},hintLink:"https://support.typora.io/Export/#target-format"},A=Object(a.a)({arg:{default:"-f native -s -o ${outputPath}",type:"string",label:"Arguments",disabled:!0},targetFormat:{label:"Target Format",type:"string",placeholder:"auto detect based on target file path",suggest:["pdf","docx","odt","rtf","epub","latex","mediawiki","rst","textile","opml"],onChange:function(e,t){e&&e.trim()?t("arg","-f native -s -o ${outputPath} -t "+e):t("arg","-f native -s -o ${outputPath}")},hintLink:"https://support.typora.io/Export/#target-format"},extensions:{label:"Target File Extensions (separate by whitespace)",type:"string",placeholder:"e.g: .text .asciidoc or leave this empty"},raw:{label:"Raw Type",type:"select",options:{"":"Auto",html:"html",mediawiki:"mediawiki",rst:"rst",textile:"textile",latex:"latex",docx:"docx",opml:"opml"},hintLink:"https://support.typora.io/Export/#raw-type"}},M),D=Object(a.a)(Object(a.a)({arg:{default:"-f native -s -o ${outputPath}",type:"string",label:"Arguments",disabled:!0},"pdf-engine":{label:"PDF Engine",type:"string",arg:"--pdf-engine",suggest:["pdflatex","lualatex","xelatex","latexmk","tectonic","wkhtmltopdf","weasyprint","prince","context","pdfroff"],onChange:function(e,t,n){t("arg","-f native -s -o ${outputPath}"+((n.engine||"").trim()?" --pdf-engine=".concat(JSON.stringify(n["pdf-engine"])):"")+((n.template||"").trim()?" --template=".concat(n.template):""))},hintLink:"https://support.typora.io/Export/#pdf-engine"},template:{type:"file",extension:"tex latex context ms html",label:"Template",arg:"--template",onChange:function(e,t,n){t("arg","-f native -s -o ${outputPath}"+((n.engine||"").trim()?" --pdf-engine=".concat(n["pdf-engine"]):"")+((n.template||"").trim()?" --template=".concat(n.template):""))},hintLink:"https://support.typora.io/Export/#template"}},M),{},{author:{type:"string",label:"Author",placeholder:"Empty"}}),I=Object(a.a)(Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t docx",type:"string",label:"Arguments",disabled:!0}},M),{},{"reference-doc":{type:"file",extension:"docx",label:"Style Reference",arg:"--reference-doc",onChange:function(e,t,n){t("arg","-f native -s -o ${outputPath} -t docx"+((e||"").trim()?" --reference-doc ".concat(JSON.stringify(e)):""))},hintLink:"https://support.typora.io/Export/#style-reference"}}),V=Object(a.a)(Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t odt",type:"string",label:"Arguments",disabled:!0}},M),{},{template:{type:"file",extension:"opendocument",label:"Template",onChange:function(e,t,n){t("arg","-f native -s -o ${outputPath} -t odt"+((e||"").trim()?" --template ".concat(JSON.stringify(e)):""))},hintLink:"https://support.typora.io/Export/#template-1"}}),W=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t rtf",type:"string",label:"Arguments",disabled:!0}},M),R=Object(a.a)(Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t epub",type:"string",label:"Arguments",disabled:!0}},M),{},{css:{type:"file",extension:"css",label:"Custom CSS",onChange:function(e,t,n){t("arg","-f native -s -o ${outputPath} -t epub"+((n.css||"").trim()?" --css ".concat(JSON.stringify(n.css)):"")+((n["epub-chapter-level"]||"").trim()?" --epub-chapter-level=".concat(n["epub-chapter-level"]):""))},hintLink:"https://support.typora.io/Export/#custom-css"},"epub-chapter-level":{label:"Chapter Level",type:"select",options:{1:"1",2:"2",3:"3",4:"4"},onChange:function(e,t,n){t("arg","-f native -s -o ${outputPath} -t epub"+((n.css||"").trim()?" --css=".concat(JSON.stringify(n.css)):"")+((n["epub-chapter-level"]||"").trim()?" --epub-chapter-level=".concat(n["epub-chapter-level"]):""))},hintLink:"https://support.typora.io/Export/#chapter-level"}}),H=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t latex",type:"string",label:"Arguments",disabled:!0}},M),z=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t mediawiki",type:"string",label:"Arguments",disabled:!0}},M),U=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t rst",type:"string",label:"Arguments",disabled:!0}},M),B=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t textile",type:"string",label:"Arguments",disabled:!0}},M),G=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t opml",type:"string",label:"Arguments",disabled:!0}},M),$=function(e){return"-f native -s -o ${outputPath} -t ".concat(e.variants||"markdown","\n        ").concat(e.hardLineWrap?"--columns=".concat(e.columns||130):"","\n        ").concat(e.eol?"--eol=".concat(e.eol||"native"):"","\n        ").concat(e.tab?"tab"===e.tab?"--preserve-tabs":"--tab-stop=".concat(e.tab||4):"","\n        ").concat(e.ascii?"--ascii":"","\n        ").concat(e["reference-links"]?"--reference-links":"","\n        ").concat(e["reference-location"]?"--reference-location=".concat(e["reference-location"]||"document"):"","\n        ").concat(e["markdown-headings"]?"--markdown-headings=".concat(e["markdown-headings"]||"atx"):"","\n        ").concat(e.webtex?"--webtex=https://latex.codecogs.com/".concat(e["webtex-format"]||"png",".latex"):"","\n        ").replace(/\s+/g," ")},q=Object(a.a)({arg:{default:"-f native -s -o ${outputPath} -t markdown",type:"string",label:"Arguments",disabled:!0},variants:{type:"select",label:"Markdown Variants",options:{"":"Pandoc Markdown",markdown_phpextra:"PHP Markdown Extra",markdown_mmd:"MultiMarkdown",markdown_strict:"Original Unextended Markdown",commonmark:"CommonMark",gfm:"Github-Flavored Markdown",commonmark_x:"CommonMark with many pandoc extensions"},onChange:function(e,t,n){t("arg",$(n))}},hardLineWrap:{default:!1,type:"checkbox",label:"Line Wrap",checkboxLabel:"Hard line wrap",hintLink:"https://support.typora.io/Markdown-Export#line-wrap"},columns:{default:130,type:"number",label:"Text Column Width",onChange:function(e,t,n){t("arg",$(n))},visible:function(e){return e.hardLineWrap}},eol:{default:"",type:"select",label:"Line Endings",dictGroup:"Menu",options:{"":"Auto (based on current OS)",crlf:"Windows Line Endings (CRLF)",lf:"Unix Line Endings (LF)"},optionsDict:"Menu",onChange:function(e,t,n){t("arg",$(n))}},tab:{default:"",type:"select",label:"Indent",options:{tab:"Preserve tabs",2:"2 spaces per tab",3:"3 spaces per tab","":"4 spaces per tab"},onChange:function(e,t,n){t("arg",$(n))}},ascii:{default:!1,type:"checkbox",label:"Unicode Characters",checkboxLabel:"Use only ASCII characters in output",onChange:function(e,t,n){t("arg",$(n))},hintLink:"https://support.typora.io/Markdown-Export#only-allow-ascii-characters"},"reference-links":{default:!1,type:"checkbox",label:"Link Reference",dictGroup:"Menu",checkboxLabel:"Use reference-style links rather than inline links",onChange:function(e,t,n){t("arg",$(n))},hintLink:"https://pandoc.org/MANUAL.html#option--reference-links"},"reference-location":{default:!1,type:"select",label:"Footnotes and References Location",options:{"":"End of document",block:"End of current (top-level) block",section:"End of current section"},onChange:function(e,t,n){t("arg",$(n))},hintLink:"https://pandoc.org/MANUAL.html#option--reference-location"},"markdown-headings":{default:"",type:"select",label:"Heading Style",options:{"":"Auto",atx:"atx (#)",setext:"setext (===)"},onChange:function(e,t,n){t("arg",$(n))}},webtex:{default:!1,type:"checkbox",label:"Math",dictGroup:"Menu",checkboxLabel:"Convert TeX formulas to web images",onChange:function(e,t,n){t("arg",$(n))},hintLink:"https://pandoc.org/MANUAL.html#option--webtex"},"webtex-format":{default:"png",type:"select",label:"Image Format",options:{"":"png",svg:"svg"},onChange:function(e,t,n){t("arg",$(n))},visible:function(e){return e.webtex}}},M),Q=function(e){switch(e){case"pdf":return j;case"latex-pdf":return D;case"html":return L;case"html-plain":return _;case"image":return F;case"docx":return I;case"odt":return V;case"rtf":return W;case"epub":return R;case"latex":return H;case"wiki":return z;case"rst":return U;case"textile":return B;case"opml":return G;case"markdown":return q;case"native":return T;case"pandoc":return A;case"custom":return P}},J=[{name:"Word (.docx)",type:"docx",key:"docx"},{name:"OpenOffice",type:"odt",key:"odt"},{name:"RTF",type:"rtf",key:"rtf"},{name:"Epub",type:"epub",key:"epub"},{name:"LaTeX",type:"latex",key:"latex"},{name:"Media Wiki",type:"wiki",key:"wiki"},{name:"reStructuredText",type:"rst",key:"rst"},{name:"Textile",type:"textile",key:"textile"},{name:"OPML",type:"opml",key:"opml"}],K=function(e){var t=e.label,n=e.active,a=e.onClick,o=e.onRename,i=e.rename,r=e.tab,l=p.a.useContext(g.a),c=Object(g.c)(l,t)||Object(g.c)(l,r)?" search-hit":"";if(!c){var s=Q(r),u=s?Object.values(s).map((function(e){return e.label})):["Pandoc Path","Default Folder for Exported File","Open exported file location","After Export"];"pdf"==r&&(u=u.concat(["Margin","Width x Height"])),(c=Object(g.d)(l,u)?" search-hit":"")||(c=Object(g.d)(l,u.map((function(e){return Object(h.a)(e,"Outline"===e?"Menu":"Panel")})))?" search-hit":"")}var d=function(e){var t=e.target.value.trim().replace(/[&\u2192]/g,"");t.length?o(r,t):(e.target.select(),e.preventDefault(),e.stopPropagation())};return i&&n==r?p.a.createElement("input",{className:"export-item",type:"text",defaultValue:t,autoFocus:"autofocus",onFocus:function(e){e.target.select()},onKeyDown:function(e){13==e.keyCode&&d(e)},onBlur:d}):p.a.createElement("span",{className:"export-item"+(n==r?" active":"")+c,onClick:function(){a(r)}},t)},X=function(e){var t=e.keyName,n=e.value,a=e.onChange,o=e.defaultValue;e.validatePath;return p.a.createElement("div",{className:"row text-input"},p.a.createElement("input",{type:"text",className:!n&&o?"default-value-input":"",value:n||o||"",onChange:function(e){a(t,e.target.value)}}),p.a.createElement(b.i,{hint:Object(h.a)("Select custom folder"),icon:"folder",style:{marginLeft:"1ch",cursor:"pointer"},onClick:function(){var e=/^[\/]/.exec(n)||/^[a-z]+:\\/i.exec(n)?n:null;window.Setting.selectFolder(e,(function(e){e&&a(t,e)}))},hintPosition:"bottom"}))},Y=function(e,t){return function(n,a){var o=e.getValue("export."+t)||{},i=Object.assign({},o);i[n]=a,e.onChange("export."+t,i)}},Z=function(e){var t=e.app,n=t.getValue("export.general")||{};return p.a.createElement("div",null,p.a.createElement(b.k,{title:"Default Folder for Exported File"},p.a.createElement(b.r,{keyName:"exportFolder",value:n.exportFolder||"",onChange:Y(t,"general"),options:{"":"Auto",same:"Same folder with current file",custom:"Custom location"}}),"custom"===n.exportFolder?p.a.createElement(X,{keyName:"customExportPath",value:n.customExportPath,defaultValue:window.Setting.documentPath(),onChange:Y(t,"general")}):null),p.a.createElement(b.k,{highlight:"pandoc-setting-group"===t.state.highlightId,title:"Pandoc Path",hintLink:"https://support.typora.io/Install-and-Use-Pandoc/"},p.a.createElement("div",{className:"row text-input"},p.a.createElement(b.e,{keyName:"pandocPath",value:t.getValue("pandocPath"),placeholder:Object(h.a)("(Auto Detect)"),onChange:t.onChange,defaultPath:window.isWin?"C:\\Program Files\\Pandoc\\pandoc.exe":"",option:{name:Object(h.a)("Executable"),extensions:[window.isWin?"exe":""]}}))),p.a.createElement(b.k,{title:"After Export"},p.a.createElement(b.c,{label:"Open exported file location",keyName:"openExportLocation",checked:!!n.openExportLocation,onChange:Y(t,"general")})))},ee=function(e,t){return void 0===e?t:e},te=function(e){var t=e.app,n=e.groupId,a=t.getValue("export.general")||{},o=t.getValue("export."+n)||{},i=((t.getValue("customExport")||J).find((function(e){return e.key===n}))||{}).type||n,r=Q(o.schema||i);return r?p.a.createElement("div",null,Object.keys(r).map((function(e){var a=r[e];return a&&a.type?a.visible&&!a.visible(o)?null:p.a.createElement(b.k,{key:e,dictGroup:a.dictGroup,title:a.label||e.charAt(0).toUpperCase()+e.slice(1),hintLink:a.hintLink},"group"==a.type?a.content.map((function(e){return p.a.createElement(ie,{app:t,groupId:n,conf:o,key:e.key,keyName:e.key,inputSchema:e})})):p.a.createElement(ie,{app:t,groupId:n,conf:o,inputSchema:a,keyName:e})):null})),"custom"==i?p.a.createElement(b.k,{title:"After Export"},p.a.createElement(b.c,{label:"Show command output",keyName:"showOutput",checked:!!ee(o.showOutput),onChange:Y(t,n)}),o.saveDialog?p.a.createElement(b.c,{label:"Open exported file location",keyName:"openExportLocation",checked:!!ee(o.openExportLocation,a.openExportLocation,r.openExportLocation),onChange:Y(t,n)}):null,"saveFile"==o.saveDialog?p.a.createElement(b.c,{label:"Open exported file",keyName:"openExportFile",checked:!!o.openExportFile,onChange:Y(t,n)}):null):p.a.createElement(b.k,{title:"After Export"},p.a.createElement(b.c,{label:"Open exported file location",keyName:"openExportLocation",checked:!!ee(o.openExportLocation,a.openExportLocation,r.openExportLocation),onChange:Y(t,n)}),p.a.createElement(b.c,{label:"Open exported file",keyName:"openExportFile",checked:!!o.openExportFile,onChange:Y(t,n)}),p.a.createElement(b.c,{label:"Run command",keyName:"runCommand",checked:!!o.runCommand,onChange:Y(t,n),style:{marginBottom:4}}),o.runCommand?p.a.createElement(ie,{groupId:n,app:t,keyName:"runCommandStr",conf:o,inputSchema:{default:"",placeholder:Object(h.a)("Command"),type:"string",label:"",presetOptions:[window.isMac?'pbcopy < "${outputPath}"':window.isWin?'type -selection clipboard -i "${outputPath}"':'xclip -selection clipboard -i "${outputPath}"','git add "${outputPath}"']}}):null,o.runCommand?p.a.createElement(b.c,{label:"Show command output",keyName:"showOutput",checked:!!ee(o.showOutput),onChange:Y(t,n)}):null)):null},ne=function(e){var t=e.keyName,n=e.value,a=e.suggest,o=e.placeholder,r=e.onChange,l=e.disabled,c=e.presetOptions,s=e.indent,u=Object(i.a)(e,["keyName","value","suggest","placeholder","onChange","disabled","presetOptions","indent"]),d=null;if(c){var m={};c.map((function(e){return m[e]=e})),d=p.a.createElement(p.a.Fragment,null,p.a.createElement(b.i,{icon:"dot-3"}),p.a.createElement("select",{onChange:function(e){"_none"===e.target.value?r(t,""):e.target.value&&r(t,e.target.value)},value:c.indexOf(n)>-1?n:n?"":"_none"},p.a.createElement("option",{value:""},Object(h.a)("Custom")),c.map((function(e){return p.a.createElement("option",{key:e,value:e},e)})),p.a.createElement("option",{value:"_none"},Object(h.a)("None"))))}return p.a.createElement("div",{className:"row text-input",style:s?{paddingLeft:s}:void 0},a?p.a.createElement(b.l,Object.assign({value:n,onChange:function(e){return r(t,e)},candidates:a,placeholder:o},u)):p.a.createElement("input",Object.assign({type:"text",value:n,onChange:function(e){return r(t,e.target.value)},disabled:l,placeholder:Object(h.a)(o)},u)),d||null)},ae=function(e){var t=e.keyName,n=e.value,a=e.onChange,o=Object(i.a)(e,["keyName","value","onChange"]);return p.a.createElement("div",{className:"row text-input"},p.a.createElement("textarea",Object.assign({type:"text",value:n||"",onChange:function(e){return a(t,e.target.value)},style:{width:"100%",height:"80px",lineHeight:1.3,fontSize:"0.9em",fontFamily:"monospace"}},o)))},oe=function(e){var t=e.keyName,n=e.value,a=e.conf,o=e.onChange,i=n,r=(C.a[i]||{}).mm||a[t+".custom"],l={};window.isMac&&(l[""]="Default"),Object.keys(C.a).forEach((function(e){return l[e]=C.a[e].name}));var c="custom"!=n,s={};c&&(s.background="transparent"),l.custom=Object(h.a)("Custom"),r=r||[210,297];var u=function(e){var t=e-0;return isNaN(t)&&(t=0),t},d=function(e,t){var n=a[e];return""===n||void 0===n?t:n},m=[],g=a[t+".margin"]||"";return m.push(["Margin",p.a.createElement(b.r,{keyName:t+".margin",value:g,onChange:o,options:{"":Object(h.a)("Default"),custom:Object(h.a)("Custom")}})]),"custom"==g&&["Top","Bottom","Left","Right"].forEach((function(e){m.push([p.a.createElement(b.t,{label:"Margin "+e}),p.a.createElement("span",null,p.a.createElement("input",{type:"number",value:d(t+".margin"+e,16),onChange:function(n){return o(t+".margin"+e,u(n.target.value))}})," mm")])})),m.push(["Width x Height",p.a.createElement("span",null,p.a.createElement("input",{type:"number",value:r[0],readOnly:c,style:s,onChange:function(e){return o(t+".custom",[u(e.target.value),r[1]])}})," mm x "," ",p.a.createElement("input",{type:"number",value:r[1],readOnly:c,style:s,onChange:function(e){return o(t+".custom",[r[0],u(e.target.value)])}})," mm")]),p.a.createElement(p.a.Fragment,null,p.a.createElement(b.r,{keyName:t,value:n,onChange:o,options:l}),p.a.createElement(b.v,{rows:m}))},ie=function(e){var t=e.app,n=e.groupId,a=e.conf,o=e.keyName,r=e.inputSchema,l=Object(i.a)(e,["app","groupId","conf","keyName","inputSchema"]),c=p.a.useCallback(Y(t,n),[t,n]);switch(p.a.useEffect((function(){r.onChange&&r.onChange(a[o],c,a)}),[a[o]]),r.type){case"themeSelect":r.options=r.excludeDark?S:O;case"select":return p.a.createElement(b.r,{keyName:o,value:a[o]||r.default,onChange:c,options:r.options,hint:r.hint});case"string":var s=a[o]||r.default;return s instanceof Array&&(s=s.join(" ")),p.a.createElement(ne,Object.assign({keyName:o,value:s||"",onChange:c,placeholder:r.placeholder,disabled:r.disabled,presetOptions:r.presetOptions,suggest:r.suggest,spellCheck:!1},l));case"paper":var u=a[o]||r.default;return p.a.createElement(oe,{keyName:o,value:u,conf:a,onChange:c});case"textarea":return p.a.createElement(ae,{keyName:o,value:a[o]||r.default||"",onChange:c,spellCheck:!1});case"checkbox":var d=!(!a[o]&&!r.default);return p.a.createElement(b.c,{label:r.checkboxLabel||r.label,keyName:o,checked:r.reverse?!d:d,onChange:c,reverse:r.reverse});case"number":return p.a.createElement("div",{className:"row"},p.a.createElement(b.n,{keyName:o,value:a[o]||r.default,onChange:c})," ",r.unit," ",r.withReset?p.a.createElement(b.b,{style:{marginLeft:"24px"},label:"Reset to Default",onClick:function(){c(o,r.default)}}):null);case"file":return p.a.createElement("div",{className:"row text-input"},p.a.createElement(b.e,{keyName:o,value:a[o]||r.default,onChange:c,option:{name:Object(h.a)(r.label),extensions:r.extension.split(" ")}}))}return null},re=[{name:"PDF (Typora / Webkit)",type:"pdf"},{name:"PDF (LaTeX / Pancoc)",type:"latex-pdf"},{name:"HTML",type:"html"},{name:"HTML (without Styles)",type:"html-plain"},{name:"Image",type:"image"}].concat(J,[{name:"Markdown (Other Spec)",type:"markdown"},{name:"Native (Pandoc)",type:"native"},{name:"Pandoc",type:"pandoc"},{name:"Custom",type:"custom"}]),le=function(e){var t=e.app,n=p.a.useState("general"),o=Object(x.a)(n,2),i=o[0],r=o[1],l=p.a.useState(!1),c=Object(x.a)(l,2),s=c[0],u=c[1],d=p.a.useState(null),m=Object(x.a)(d,2),g=m[0],f=m[1];p.a.useEffect((function(){"pandoc-setting-group"==t.state.highlightId&&r("general")}),[t.state.highlightId]);var w="general"==i?Z:te,v=["general","pdf","html","html-plain","image"],y=v.indexOf(i)>-1,k=t.getValue("customExport")||J,C=function(){var e,n=re[g],a=v.indexOf(n.type)>-1?1:0;for(k=E(k);e=n.type+(a||""),k.find((function(t){return t.key===e}));)a++;var o={key:e,name:n.name+(a?"-"+a:""),type:n.type};k.push(o),t.onChange("customExport",k),f(null),r(e),u(!0)},O=function(e,n){(k=E(k)).find((function(t){return t.key===e})).name=n,t.onChange("customExport",k),u(!1)},S=function(){u(!1)},N=k.map((function(e){return e.key})),j=N.indexOf(i)<=0,_=N.indexOf(i)>=N.length-1;return p.a.createElement("div",{className:"export-config"},p.a.createElement("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column",maxHeight:"100%",padding:window.isMac?"32px 0 8px 16px":"0"}},p.a.createElement("ul",{className:"export-items-list"},p.a.createElement("li",null,p.a.createElement(K,{label:Object(h.a)("General"),tab:"general",onClick:r,active:i})),p.a.createElement("li",{className:"separator"}),p.a.createElement("li",null,p.a.createElement(K,{label:"PDF",tab:"pdf",onClick:r,active:i}),p.a.createElement(K,{label:"HTML",tab:"html",onClick:r,active:i}),p.a.createElement(K,{label:"HTML (without Styles)",tab:"html-plain",onClick:r,active:i}),p.a.createElement(K,{label:"Image",tab:"image",onClick:r,active:i})),p.a.createElement("li",{className:"separator"}),k.map((function(e){return p.a.createElement(K,{key:e.key,label:e.name,tab:e.key,onClick:r,active:i,rename:s,onRename:O,onCancelRename:S})}))),p.a.createElement("div",{className:"export-items-list-control"},p.a.createElement(b.i,{icon:"plus",hint:Object(h.a)("Add"),hintPosition:"top",onClick:function(e){f(0)}}),p.a.createElement(b.i,{icon:"minus",hint:Object(h.a)("Delete"),hintPosition:"top",disabled:y,onClick:function(){window.Setting.showConfirm("Delete this export option ?").then((function(e){if(e){var n=k.findIndex((function(e){return e.key===i})),a=(k=E(k)).splice(n,1)[0];t.onChange("customExport",k),t.onChange("export.".concat(a.key),{}),r("general")}}))}}),p.a.createElement(b.i,{style:{float:"right"},icon:"pencil",hint:Object(h.a)("Rename"),hintPosition:"top",onClick:function(){u(!0)},disabled:y||s}),p.a.createElement(b.i,{style:{float:"right"},icon:"down",hint:Object(h.a)("Move Down"),hintPosition:"top",disabled:y||_,onClick:function(){var e=k.findIndex((function(e){return e.key===i}));if(e<k.length-1){var n=k[e];(k=E(k)).splice(e,1),k.splice(e+1,0,n),t.onChange("customExport",k)}}}),p.a.createElement(b.i,{style:{float:"right"},icon:"up",hint:Object(h.a)("Move Up"),hintPosition:"top",disabled:y||j,onClick:function(){var e=k.findIndex((function(e){return e.key===i}));if(e>0){var n=k[e];(k=E(k)).splice(e,1),k.splice(e-1,0,n),t.onChange("customExport",k)}}}))),p.a.createElement("div",{style:Object(a.a)({flex:2,overflow:"auto"},window.isMac?{padding:"32px 4px 8px 0px",height:"100vh"}:{maxHeight:"100%"})},p.a.createElement("div",{className:"export-detail"},p.a.createElement(w,{app:t,groupId:i}))),null==g?null:function(){var e={};return re.forEach((function(t,n){e[n]=t.name})),p.a.createElement(b.m,{title:"Add From a Template",className:"modal-s",footer:p.a.createElement("div",null,p.a.createElement("button",{className:"btn btn-primary",onClick:C},Object(h.a)("Add")),p.a.createElement("button",{className:"btn btn-default",onClick:function(){f(null)}},Object(h.a)("Cancel")))},p.a.createElement(b.r,{options:e,value:g,onChange:function(e,t){f(t)}}))}())};function ce(){return O=N.call(this),S=N.call(this,!0),p.a.createElement(b.o,{active:5==this.state.activeTab,"data-index":"5",style:{padding:0,height:"100%",flex:1,overflow:"hidden",display:"flex",flexDirection:"column"}},this.panelHeader("Export"),p.a.createElement(le,{app:this}))}function se(){return p.a.createElement(b.o,{active:0==this.state.activeTab,"data-index":"0"},this.panelHeader("General"),p.a.createElement(b.k,{title:"On Launch"},p.a.createElement(b.r,{keyName:"restoreWhenLaunch",value:this.getValue("restoreWhenLaunch"),onChange:this.onChangeLaunchAction,options:{0:"Open new file",1:"Restore last closed folders",2:"Restore last closed files and folders",3:"Open custom folder"},hint:window.isMac?'This option may be overridden by "Close windows when quitting an application" in System Preferences':null}),p.a.createElement(b.f,{hidden:this.getValue("restoreWhenLaunch")+""!="3",keyName:"pinFolder",value:this.getValue("pinFolder"),onChange:this.onChange})),window.isMac?p.a.createElement(b.k,{title:"Quit"},p.a.createElement(b.c,{label:"Quit Typora when last window is closed",keyName:"quitAfterWindowClose",checked:!!this.getValue("quitAfterWindowClose"),onChange:this.onChange})):null,p.a.createElement(b.k,{title:"Save & Recover"},window.isNodeHtml?p.a.createElement(b.c,{label:"Auto Save",keyName:"enableAutoSave",checked:!!this.getValue("enableAutoSave"),onChange:this.onChange}):null,p.a.createElement(b.c,{label:"Save without asking when\\nswitch files on side panel",keyName:"save_file_on_switch",checked:!!this.getValue("save_file_on_switch")||window.isMac&&!this.getValue("NSCloseAlwaysConfirmsChanges")||window.isNodeHtml&&!!this.getValue("enableAutoSave"),disabled:!!this.getValue("enableAutoSave")||window.isMac&&!this.getValue("NSCloseAlwaysConfirmsChanges"),onChange:this.onChange,hint:window.isMac?Object(h.a)('Edited files will be saved without asking when switch files in left panel. \nWhen "Ask to keep changes when closing documents" is disabled in System Preference, this is always enabled.'):null}),window.isNodeHtml?p.a.createElement(b.q,{keyWords:["Recover Unsaved Drafts"]},p.a.createElement(b.b,{label:"Recover Unsaved Drafts",onClick:window.Setting.openUnsavedDraft})):null),p.a.createElement(b.k,{title:"Language",hint:"(applied after restart)"},p.a.createElement(b.r,{keyName:"userLanguage",value:this.getValue("userLanguage")||"",onChange:this.onChange,options:{"":"System Language","id-ID":"Bahasa Indonesia","cs-CZ":"\u010ce\u0161tina","ca-ES":"Catal\xe0","da-DK":"Dansk","de-DE":"Deutsch",Base:"English","es-ES":"Espa\xf1ol","el-GR":"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac","fr-FR":"Fran\xe7ais","gl-ES":"Galego","hr-HR":"Hrvatski","it-IT":"Italiano","ro-RO":"Limba Rom\xe2n\u0103","nl-NL":"Nederlands","hu-HU":"Magyar","pl-PL":"Polski","pt-BR":"Portugu\xeas (Brasil)","pt-PT":"Portugu\xeas (Portugal)","ru-RU":"\u0420\u0443\u0301\u0441\u0441\u043a\u0438\u0439 \u042f\u0437\u044b\u0301\u043a","de-CH":"Schweizerdeutsch","sk-SK":"Sloven\u010dina","sv-SE":"Svenska","vi-VN":"Ti\u1ebfng Vi\u1ec7t","tr-TR":"T\xfcrk\xe7e","uk-UA":"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u043c\u043e\u0432\u0430","fa-IR":"\u0641\u0627\u0631\u0633\u06cc","ar-SA":"\u0627\u064e\u0644\u0652\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u064e\u0651\u0629\u064f","zh-Hans":"\u7b80\u4f53\u4e2d\u6587","zh-Hant":"\u7e41\u9ad4\u4e2d\u6587","ja-JP":"\u65e5\u672c\u8a9e","ko-KR":"\ud55c\uad6d\uc5b4","he-IL":"\u05e2\u05b4\u05d1\u05b0\u05e8\u05b4\u05d9\u05ea\u200e"}})),p.a.createElement(b.d,{forWin:!0,forMac:!0},p.a.createElement(b.k,{title:"Update"},p.a.createElement(b.q,{keyWords:["Check Updates"]},p.a.createElement(b.b,{label:"Check Updates",onClick:window.Setting.checkUpdates})),p.a.createElement(b.c,{keyName:"enableAutoUpdate",onChange:this.onChange,checked:!1!==this.getValue("enableAutoUpdate"),label:"Check updates automatically"}))),p.a.createElement(b.k,{title:"Shortcut Keys"},p.a.createElement(b.q,{keyWords:["Key Binding"]},p.a.createElement(b.b,{label:"Custom Shortcut Keys",onClick:function(){window.Setting.openLink("http://support.typora.io/Shortcut-Keys/#change-shortcut-keys")}}))),p.a.createElement(b.k,{title:"Dialogs"},p.a.createElement(b.q,{keyWords:["Reset All Dialog Warnings"]},p.a.createElement(b.b,{label:"Reset All Dialog Warnings",onClick:this.onResetDialogWarning}))),p.a.createElement(b.k,{title:"Advanced Settings"},p.a.createElement(b.c,{keyName:window.isMac?"WebKitDeveloperExtras":"debug",label:"Enable Debug",checked:!!this.getValue(window.isMac?"WebKitDeveloperExtras":"debug"),onChange:this.onChange}),p.a.createElement(b.c,{keyName:"send_usage_info",label:"Send Anonymous Usage Info",checked:!!this.getValue("send_usage_info"),onChange:this.onChange}),p.a.createElement(b.d,{forLinux:!0,forWin:!0},p.a.createElement(b.q,{keyWords:["Open Advanced Settings","Reset Advanced Settings"]},p.a.createElement(b.b,{label:"Open Advanced Settings",onClick:this.onOpenAdvancedSettings,style:{marginRight:"16px"}}),p.a.createElement(b.b,{label:"Reset Advanced Settings",onClick:this.onResetAdvancedSettings})))))}function ue(){return p.a.createElement(b.o,{active:2==this.state.activeTab,"data-index":"2"},this.panelHeader("Editor"),p.a.createElement(b.j,{onChange:this.onChange,indentSize:this.getValue("indentSize"),prettyIndent:!!this.getValue("prettyIndent")}),p.a.createElement(b.k,{title:"Auto Pair"},p.a.createElement(b.c,{keyName:"no_pairing_match",onChange:this.onChange,checked:!this.getValue("no_pairing_match"),label:"Auto pair brackets and quotes",reverse:!0}),p.a.createElement(b.c,{keyName:"match_pari_markdown",onChange:this.onChange,checked:!!this.getValue("match_pari_markdown")&&!this.getValue("no_pairing_match"),label:"Auto pair common Markdown syntax",disabled:this.getValue("no_pairing_match")})),p.a.createElement(b.k,{title:"Live Rendering"},p.a.createElement(b.c,{keyName:"auto_expand_block",onChange:this.onChange,checked:!!this.getValue("auto_expand_block"),label:"Display source for simple blocks\\n(including headings, etc.) on focus"})),p.a.createElement(b.k,{title:"Default Copy Behavior",hint:window.isMac?"( \u2318C )":"(ctrl+c)"},p.a.createElement(b.c,{keyName:"copy_markdown_by_default",onChange:this.onChange,checked:!!this.getValue("copy_markdown_by_default"),label:"Copy Markdown source as plain text"})),window.isMac?null:p.a.createElement(b.k,{title:"Default Line Ending",hint:"Line ending for new file",breakBeforeHint:!0},p.a.createElement(b.p,{keyName:"line_ending_crlf",type:"boolean",options:{false:"LF (Unix Style)",true:"CRLF (Windows Style)"},onChange:this.onChange,value:!!this.getValue("line_ending_crlf")})),p.a.createElement(b.d,{forWin:!0,forLinux:!0},p.a.createElement(b.k,{title:"Spell Check",breakBeforeHint:!0,hint:Object(h.a)("(Default spell check option)","Front")},p.a.createElement(b.r,{keyName:"preset_spell_check",options:{auto:Object(h.a)("Auto Detect Language","Front"),disabled:Object(h.a)("Disable Spell Check","Front"),_seperator:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500","en-US":"English (US)","en-GB":"English (UK)",cs:"\u010ce\u0161tina",de:"Deutsch",es:"Espa\xf1ol",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",fr:"Fran\xe7ais",gl:"Galego",hr:"Hrvatski",it:"Italiano",nl:"Nederlands",hu:"Magyar",pl:"Polski","pt-BR":"Portugu\xeas (Brasil)",pt:"Portugu\xeas (Portugal)",ru:"\u0420\u0443\u0301\u0441\u0441\u043a\u0438\u0439",sv:"Svenska",fa:"\u0641\u0627\u0631\u0633\u06cc",ar:"\u0627\u064e\u0644\u0652\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u064e\u0651\u0629\u064f",ko:"\ud55c\uad6d\uc5b4",zh:"\u4e2d\u6587",ja:"\u65e5\u672c\u8a9e"},onChange:this.onChange,value:this.getValue("preset_spell_check")}))),p.a.createElement(b.k,{title:"Typewriter Mode"},p.a.createElement(b.c,{keyName:"no_mid_caret",onChange:this.onChange,checked:!this.getValue("no_mid_caret"),label:"Always keep caret in middle of screen\\nwhen typewriter mode is enabled",reverse:!0}),p.a.createElement(b.q,{keyWords:["Turn off Typewriter / Focus Mode"],style:{lineHeight:"1",paddingTop:"6px",paddingBottom:"4px"}},p.a.createElement(b.b,{label:"Turn off Typewriter / Focus Mode",onClick:window.Setting.exitFocusAndTypewriterMode}))))}function pe(){var e=this,t=!this.getValue("SmartyPantsOnRendering")&&(this.getValue("smartDash")||this.getValue("smartQuote"));return p.a.createElement(b.o,{active:4==this.state.activeTab,"data-index":"4"},this.panelHeader("Markdown"),p.a.createElement("div",{className:"panel-content-hint row",style:{marginLeft:0}},Object(h.a)("(Following preferences will be applied after restart.)")),p.a.createElement(b.k,{title:"Syntax Preference",breakBeforeHint:!0,hint:"only apply to quotes and lists created from menu bar or hybrid view"},p.a.createElement(b.v,{rows:[[p.a.createElement(b.c,{checked:!!this.getValue("strict_mode"),keyName:"strict_mode",onChange:this.onChange,label:"Strict Mode"}),p.a.createElement(b.h,{hintLink:"https://support.typora.io/Strict-Mode/",inlineHint:!0}),"Strict Mode"],["Heading Style",p.a.createElement(b.r,{onChange:this.onChange,keyName:"heading_style",value:this.getValue("heading_style")||0,type:"number",options:{0:"atx (#)",2:"atx with suffix (# \u22ef #)",1:"setext (===)",3:"variable-width setext (=====)"}})],["Unordered List",p.a.createElement(b.r,{onChange:this.onChange,keyName:"ul_style",value:this.getValue("ul_style")||0,type:"number",options:{0:"-",1:"+",2:"*"}})],["Ordered List",p.a.createElement(b.r,{onChange:this.onChange,keyName:"ol_style",value:this.getValue("ol_style")||0,type:"number",options:{0:"1. \u22ef 2. \u22ef 3. \u22ef",1:"1. \u22ef 1. \u22ef 1. \u22ef"}})]]})),p.a.createElement(b.k,{title:"Syntax Support"},p.a.createElement(b.c,{keyName:"enable_inline_math",label:"Inline Math  ( e.g: $\\LaTeX$ )",checked:!!this.getValue("enable_inline_math"),onChange:this.onChange}),p.a.createElement(b.c,{keyName:"enable_subscript",label:"Subscript    ( e.g: H~2~O )",checked:!!this.getValue("enable_subscript"),onChange:this.onChange}),p.a.createElement(b.c,{keyName:"enable_superscript",label:"Superscript ( e.g: X^2^ )",checked:!!this.getValue("enable_superscript"),onChange:this.onChange}),p.a.createElement(b.c,{keyName:"enable_highlight",label:"Highlight     (e.g: ==key==)",checked:!!this.getValue("enable_highlight"),onChange:this.onChange}),p.a.createElement(b.c,{keyName:"enable_diagram",label:"Diagrams",checked:!!this.getValue("enable_diagram"),onChange:this.onChange,hint:"(Sequence, Flowchart and Mermaid)",inlineHint:!0})),p.a.createElement(b.k,{highlight:"smart-punctuation-group"===this.state.highlightId,title:"Smart Punctuation",hintLink:"https://support.typora.io/SmartyPants/",dictGroup:"Menu",inlineHint:!0,breakBeforeHint:!0},p.a.createElement(b.r,{keyName:"SmartyPantsOnRendering",optionsDict:"Menu",options:{false:"Convert on Input",true:"Convert on Rendering"},value:!!this.getValue("SmartyPantsOnRendering"),onChange:this.onChange,type:"boolean",hint:"<div><strong>Convert on Input</strong>: Input ASCII dashes or quotes, converted and saved as curly quotes or unicode dashes.<br/><strong>Convert on Rendering</strong>: Input and saved as ASCII dashes or quotes, render as curly quotes or unicode dashes.</div>"}),window.isMac?p.a.createElement(b.c,{keyName:"smartQuote",label:"Smart Quotes",checked:!!this.getValue("smartQuote"),onChange:this.onChange,dictGroup:"Menu",hint:"You could set quote patterns in System Preferences \u2192 Keyboard \u2192 Text. If it is changed, Typora will need a restart to apply it."}):p.a.createElement(b.q,{keyWords:["Smart Quotes"],style:{height:"29px"}},p.a.createElement(b.c,{keyName:"smartQuote",label:"Smart Quotes",checked:!!this.getValue("smartQuote"),onChange:this.onChange,dictGroup:"Menu",isCell:!0,style:{display:"inline-block",margin:"2px 0 0 0"}}),p.a.createElement(b.r,{disabled:!this.getValue("smartQuote"),options:{"\u201c\u201d":"\u201cabc\u201d","\u201e\u201c":"\u201eabc\u201c","\u201e\u201d":"\u201eabc\u201d","\u201d\u201d":"\u201dabc\u201d","\xab\xbb":"\xababc\xbb","\xab  \xbb":"\xab abc \xbb","\xbb\xab":"\xbbabc\xab",'""':'"abc"'},isCell:!0,value:function(){var t=e.getValue("userQuotesArray");return t?t[0]+t[1]:"\u201c\u201d"}(),keyName:"userQuotesArray",onChange:function(t,n){var a=e.getValue("userQuotesArray");a||(a=["\u201c","\u201d","\u2018","\u2019"]),a[0]=n.substr(0,n.length/2),a[1]=n.substr(n.length/2),e.onChange("userQuotesArray",a)}}),p.a.createElement(b.r,{disabled:!this.getValue("smartQuote"),options:{"\u2018\u2019":"\u2018abc\u2019","\u201a\u2018":"\u201aabc\u2018","\u201a\u2019":"\u201aabc\u2019","\u2019\u2019":"\u2019abc\u2019","\u2039\u203a":"\u2039abc\u203a","\u2039 \u203a":"\u2039 abc \u203a","\u203a\u2039":"\u203aabc\u2039","''":"'abc'"},isCell:!0,value:function(){var t=e.getValue("userQuotesArray");return t?t[2]+t[3]:"\u2018\u2019"}(),keyName:"userQuotesArray",onChange:function(t,n){var a=e.getValue("userQuotesArray");a||(a=["\u201c","\u201d","\u2018","\u2019"]),a[2]=n.substr(0,n.length/2),a[3]=n.substr(n.length/2),e.onChange("userQuotesArray",a)}})),p.a.createElement(b.c,{keyName:"smartDash",label:"Smart Dashes",checked:!!this.getValue("smartDash"),onChange:this.onChange,dictGroup:"Menu"}),!window.isMac&&this.getValue("smartDash")?p.a.createElement(b.r,{keyName:"twoHyphensToEm",options:{false:"Convert -- to \u2013 (en dash), and --- to \u2014 (em dash)",true:"Convert -- and --- to \u2014 (em dash)"},value:!!this.getValue("twoHyphensToEm"),type:"boolean",onChange:this.onChange}):null,p.a.createElement(b.c,{label:"Remap Unicode Punctuation on Parse",dictGroup:"Menu",hint:"<div>Recognize unicode punctuations as ASCII ones when parse markdown, e.g:<br/> <pre> \u300b blockquote \u2192 > blockquote <br/> [link](src \u2019title\u2019) \u2192 [link](src 'title')</pre>It will be turned on automatically if smart quotes/dashes will be converted on input.<div>",keyName:"remapPunctuation",checked:!!this.getValue("remapPunctuation")||t,onChange:this.onChange,disabled:t})),p.a.createElement(b.k,{title:"Code Fences"},p.a.createElement(b.c,{label:"Display line numbers for code fences",keyName:"show_line_numbers_for_fence",checked:!!this.getValue("show_line_numbers_for_fence"),onChange:this.onChange}),p.a.createElement(b.c,{label:"Auto wrap long lines",keyName:"no_line_wrapping",checked:!this.getValue("no_line_wrapping"),onChange:this.onChange,reverse:!0}),p.a.createElement(b.v,{rows:[["Indent Size for Code",p.a.createElement(b.r,{keyName:"codeIndentSize",onChange:this.onChange,value:this.getValue("codeIndentSize")||4,options:{2:"2",3:"3",4:"4",5:"5"}})]]})),p.a.createElement(b.k,{title:"Math",dictGroup:"Menu",hintLink:"https://support.typora.io/Math/"},p.a.createElement(b.c,{keyName:"auto_numbering_for_math",checked:!!this.getValue("auto_numbering_for_math"),label:"Auto Numbering Math Equations",onChange:this.onChange}),p.a.createElement(b.c,{keyName:"noDisplayLinesInMath",checked:!this.getValue("noDisplayLinesInMath"),label:"Apply Line Break at \\\\ and \\\\newline",onChange:this.onChange,hintLink:"https://support.typora.io/Math/#line-breaking",reverse:!0}),p.a.createElement(b.c,{keyName:"allowPhysicsConflict",checked:!!this.getValue("allowPhysicsConflict"),label:"Allow physics package to redefine existing TeX commands",onChange:this.onChange,hint:"When enabled, commands like \\div, \\Re will be redefined by physics package."}),p.a.createElement(b.v,{rows:[["When copy / export as HTML (without style)",p.a.createElement(b.r,{keyName:"mathFormatOnCopy",value:this.getValue("mathFormatOnCopy")||"svg",options:{svg:"Use Rendered SVG",latex:"Use LaTeX Source"},onChange:this.onChange}),"<div>Take effects when export as HTML (without styles) or copy as HTML code, or copy without theme style.<br/>When <strong>Use LaTeX Source</strong> is selected, Typora will put the raw LaTeX source (e.g: $X^2$),<br/>When <strong>Use Rendered SVG</strong> is selected, the rendered SVG will be used, if you paste to other app, SVG may get ignored.</div>"]]})),p.a.createElement(b.k,{title:"Whitespace / Line Break",hintLink:"https://support.typora.io/Line-Break/",breakBeforeHint:!0},p.a.createElement(b.c,{label:"Indent first line of paragraphs",dictGroup:"Menu",keyName:"indentFirstLine",onChange:this.onChange,checked:!!this.getValue("indentFirstLine"),hint:'These options can also be changed under "Edit\u2192Whitespace and Line Breaks" menu'}),p.a.createElement(b.v,{className:"whitespace-table-input",rows:[["When Writing",p.a.createElement(p.a.Fragment,null,p.a.createElement(b.c,{isCell:!0,label:"Visible <br/>",dictGroup:"Menu",keyName:"hideBrAndLineBreak",onChange:this.onChange,checked:!this.getValue("hideBrAndLineBreak"),reverse:!0}),p.a.createElement(b.r,{keyName:"ignoreLineBreak",value:!!this.getValue("ignoreLineBreak"),type:"boolean",options:{false:"Preserve sequential whitespace and single line break",true:"Ignore sequential whitespace and single line break"},onChange:this.onChange}))],["Export / Print",p.a.createElement(b.r,{keyName:"preLinebreakOnExport",value:!!this.getValue("preLinebreakOnExport"),type:"boolean",options:{true:"Preserve sequential whitespace and single line break",false:"Ignore sequential whitespace and single line break"},onChange:this.onChange})]]})))}function de(){var e=Object(h.a)("Your trail will be expired in %@ days.").replace("%@",15);return p.a.createElement(b.o,{active:6==this.state.activeTab,"data-index":"6"},p.a.createElement(b.k,{title:e}))}var me=["General","Appearance","Editor","Image","Markdown","Export"];window.ShowTyporaLicense&&me.push("License");var he={Markdown:p.a.createElement("span",{className:"icon"},p.a.createElement(f.j,null)),Editor:p.a.createElement("span",{className:"icon"},p.a.createElement(f.c,null)),Appearance:p.a.createElement("span",{className:"icon"},p.a.createElement(f.k,null)),Export:p.a.createElement("span",{className:"icon"},p.a.createElement(f.e,null)),Image:p.a.createElement("span",{className:"icon"},p.a.createElement(f.i,null)),General:p.a.createElement("span",{className:"icon"},p.a.createElement(f.f,null)),License:p.a.createElement("span",{className:"icon"},p.a.createElement(f.g,{style:{marginTop:"1px",display:"block",zoom:.9}}))},ge=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return m.a.findDOMNode(this).classList.contains("no-search-hit")}},{key:"componentDidUpdate",value:function(e,t,n){if(n)return m.a.findDOMNode(this).classList.add("no-search-hit")}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.active,a=e.onClick,o=Object(i.a)(e,["label","active","onClick"]);return p.a.createElement("span",Object.assign({className:"nav-group-item "+(n?"active":""),onClick:a},o),window.isMac&&he[t]||null,Object(h.a)(t,"Image"==t||"Export"==t?"Menu":void 0))}}]),n}(p.a.PureComponent),fe=function(e){var t=e.activeTab,n=e.onSwitchTab,a=e.onSearch;return p.a.createElement("ul",{className:"list-group"},p.a.createElement("li",{className:"list-group-header"},p.a.createElement(g.b,{onSearch:a})),p.a.createElement("li",{className:"list-group-content"},me.map((function(e,a){return p.a.createElement(ge,{label:e,key:a,"data-index":a,active:t==a,onClick:function(){n(a)}})}))))},be=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={activeTab:0,search:"",highlightId:""},a.onChange=a.onChange.bind(Object(o.a)(a)),a.onSwitchTab=a.onSwitchTab.bind(Object(o.a)(a)),a.onSearch=a.onSearch.bind(Object(o.a)(a)),a.getValue=a.getValue.bind(Object(o.a)(a)),a.resetWordsPerMinute=a.resetWordsPerMinute.bind(Object(o.a)(a)),a.onChangeLaunchAction=a.onChangeLaunchAction.bind(Object(o.a)(a)),a.onResetDialogWarning=a.onResetDialogWarning.bind(Object(o.a)(a)),a.container=p.a.createRef(),window.makeHighlight=a.makeHighlight.bind(Object(o.a)(a)),a}return Object(l.a)(n,[{key:"makeHighlight",value:function(e){var t=this,n={highlightId:e};"image-setting-group"==e&&this.setState(Object(a.a)({activeTab:3},n)),"smart-punctuation-group"==e&&this.setState(Object(a.a)({activeTab:4},n)),"pandoc-setting-group"==e&&this.setState(Object(a.a)({activeTab:5},n)),"export-setting-group"==e&&this.setState({activeTab:5}),setTimeout((function(){t.setState({highlightId:""})}),4e3)}},{key:"getValue",value:function(e,t,n){return t=t||e,void 0!==this.state[t]?void 0===this.state[t]?n:this.state[t]:void 0===this.props[e]?n:this.props[t]}},{key:"componentDidUpdate",value:function(e,t){if(e===this.props){if(t.search!=this.state.search){var n=this.state.search,o=this.container.current;if(n.trim()){var i=o.querySelectorAll(".content"),r=Array.prototype.slice.call(i),l=[],c=-1;r.forEach((function(e){var t=e.getAttribute("data-index")-0;if(!isNaN(t)){var n=e.querySelectorAll(".search-hit").length-e.querySelectorAll(".search-hit .search-hit").length;l[t]=n;var a=o.querySelector(".nav-group-item[data-index='"+t+"']");if(a){var i=a.classList;n>0?(c=c<0?t:Math.min(c,t),i.remove("no-search-hit")):i.add("no-search-hit")}}})),o.classList.add("on-performance-search"),l[this.state.activeTab]||this.setState({activeTab:c})}else o.classList.remove("on-performance-search"),this.state.activeTab<0&&this.setState({activeTab:0})}}else this.setState(Object(a.a)({activeTab:this.state.activeTab},this.props))}},{key:"onSwitchTab",value:function(e){this.setState({activeTab:e})}},{key:"onSearch",value:function(e){this.setState({search:e})}},{key:"resetWordsPerMinute",value:function(e){this.onChange("wordsPerMinute",e||382)}},{key:"onChange",value:function(e,t){console.debug(e+" change to ",t);var n={};n[e]=t,this.setState(n),this.onChangeExtraActions(e,t)}},{key:"argsFromString",value:function(e){if(!(e||"").trim())return null;for(var t,n=/("[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S)+)/g,a=[];t=n.exec(e);){var o=t[0].replace(/\\(\s)/g,"$1");/"$/.exec(o)?o=o.replace(/(^|[^\\])"/g,"$1"):/'$/.exec(o)&&(o=o.replace(/(^|[^\\])'/g,"$1")),a.push(o)}return a}},{key:"onChangeExtraActions",value:function(e,t){if(e&&("image_uploader"!==e||"picgo-intro"!=t)){var n,o=window.Setting;switch(t&&t.extraArguments&&"string"===typeof t.extraArguments?o.put(e,Object(a.a)(Object(a.a)({},t),{},{extraArguments:this.argsFromString(t.extraArguments)})):o.put(e,t),e){case"WebKitDeveloperExtras":o.updateEnableDebug(t);break;case"use_seamless_window":o.updateWindowStyle(t);break;case"useCustomFontSize":o.execCommand("File.option.useCustomFontSize=%@".replace("%@",t?"true":"false")),t?o.execCommand("document.body.parentElement.style.fontSize = '"+(this.getValue("customFontSize")||14)+"px'"):o.execCommand("document.body.parentElement.style.fontSize = ''");break;case"customFontSize":this.getValue("useCustomFontSize")&&(o.execCommand("File.option.customFontSize=%@".replace("%@",t)),o.execCommand("document.body.parentElement.style.fontSize = '"+(t||14)+"px'"));break;case"always_show_wordcount":o.updateAlwaysShowWordCount(t);break;case"wordsPerMinute":o.put("customWordsPerMinute",!0),o.execCommand("File.option.customWordsPerMinute = true; File.option.wordsPerMinute = $2;".replace("$2",t));break;case"can_collapse_outline_panel":o.execCommand("File.setCanCollapsePinnedOutline(%@);".replace("%@",t));break;case"indentSize":o.execCommand("File.setIndentSize(%@);".replace("%@",t));break;case"prettyIndent":o.execCommand("File.option.prettyIndent = %@;".replace("%@",t));break;case"no_pairing_match":o.execCommand("File.option.noPairingMatch = %@;".replace("%@",t));break;case"match_pari_markdown":o.execCommand("File.option.autoPairExtendSymbol = %@;".replace("%@",t));break;case"auto_expand_block":o.execCommand("File.option.expandSimpleBlock = %@;".replace("%@",t));break;case"copy_markdown_by_default":o.execCommand("File.option.copyMarkdownByDefault = %@;".replace("%@",t));break;case"no_mid_caret":o.execCommand("File.option.scrollWithCursor = %@;".replace("%@",!t));break;case"image_save_location":"custom"!==t?o.updateImageSaveLocation(t):(n=this.getValue("custom_image_save_location"))&&n.trim().length&&o.execCommand("File.setDefaultImageStorage(%@)".replace("%@",JSON.stringify(n.trim())));break;case"custom_image_save_location":t.trim().length&&o.execCommand("File.setDefaultImageStorage(%@)".replace("%@",JSON.stringify(t.trim())));break;case"picgo_app_path":t.trim().length&&o.execCommand("File.option.picgoAppPath=%@".replace("%@",JSON.stringify(t.trim())));break;case"image_uploader":t.trim().length&&o.execCommand("File.option.imageUploader=%@".replace("%@",JSON.stringify(t.trim())));break;case"custom_image_uploader":t.trim().length&&o.execCommand("File.option.customImageUploader=%@".replace("%@",JSON.stringify(t.trim())));break;case"no_image_move_for_local":o.execCommand("File.option.applyImageMoveForLocal = %@".replace("%@",!t));break;case"apply_image_move_for_web":o.execCommand("File.option.applyImageMoveForWeb = %@".replace("%@",t));break;case"use_relative_path_for_img":o.execCommand("File.option.useRelativePathForImg = %@".replace("%@",t));break;case"allow_image_upload":o.execCommand("File.option.allowImageUpload = %@".replace("%@",t));break;case"heading_style":o.execCommand("File.option.headingStyle = %@".replace("%@",t));break;case"ul_style":o.execCommand("File.option.ulStyle = %@".replace("%@",t));break;case"ol_style":o.execCommand("File.option.olStyle = %@".replace("%@",t));break;case"smartQuote":o.setSmartQuote(t);break;case"smartDash":o.setSmartDash(t);break;case"SmartyPantsOnRendering":o.setConvertOnRendering(t);break;case"remapPunctuation":o.setRemapPunctuation(t);break;case"userQuotesArray":o.execCommand("File.option.userQuotesArray = %@".replace("%@",JSON.stringify(t)));break;case"codeIndentSize":o.execCommand("File.option.codeIndentSize = %@".replace("%@",t));break;case"ignoreLineBreak":o.execCommand("File.setIgnoreLineBreak(%@, true)".replace("%@",t));break;case"preLinebreakOnExport":o.execCommand("File.option.preLinebreakOnExport = %@".replace("%@",t));break;case"showStatusBar":o.execCommand(t?function(){document.body.classList.add("show-footer"),document.body.classList.remove("hide-footer")}:function(){document.body.classList.remove("show-footer"),document.body.classList.add("hide-footer")});break;case"debug":o.execCommand(t?"function() {$(\"[data-group='dev-tool']\").show();}":"function() {$(\"[data-group='dev-tool']\").hide();}");break;case"preset_spell_check":o.evaluateInHost("File.option.presetSpellCheck = '"+t+"';File.editor.spellChecker.setLangMode('"+t+"');");break;case"line_ending_crlf":o.execCommand("function(){File.option.preferCRLF = "+t+";}");break;case"enableAutoSave":o.execCommand("function(){File.option.enableAutoSave = "+t+";}");break;case"save_file_on_switch":window.isNode&&o.execCommand("function(){File.option.saveFileOnSwitch = "+t+";}");break;case"indentFirstLine":o.execCommand("File.setIndentFirstLine("+t+", true);");break;case"hideBrAndLineBreak":o.execCommand("File.setHideBrAndLineBreak("+t+", true);");break;case"autoEscapeImageURL":o.execCommand("File.option.autoEscapeImageURL="+t+";");break;case"mathFormatOnCopy":o.evaluateInHost("File.option.mathFormatOnCopy = '"+t+"';");break;case"image_uploader":o.execCommand("File.option.imageUploader = "+JSON.stringify(t)+";");break;case"custom_image_uploader":o.execCommand("File.option.customImageUploader = "+JSON.stringify(t)+";");break;case"send_usage_info":t||o.execCommand("File.option.sendAnonymousUsage = false;");break;case"theme":o.setTheme(t,!1);break;case"darkTheme":o.setTheme(t,!0);break;case"useSeparateDarkTheme":window.isNode&&o.invoke("theme.setThemeSource","system"),o.setTheme(this.getValue("theme"),!1);break;case"pandocPath":o.execCommand("File.option.pandocPath = "+JSON.stringify(t)+";");break;case"customExport":o.reloadExportMenu()}}}},{key:"imageFolderIsInvalid",value:function(e){if(/^\.\.?[\/\\]/.exec(e=e||""))return!1;var t=e.indexOf("${filename}"),n=e;return t>-1&&(n=e.substr(0,t)),n?"/"==n?Object(h.a)("Cannot use root path."):!window.Setting.existsDir(n)&&Object(h.a)("Folder not exist at %@, please input another path.").replace("%@",n):Object(h.a)("Please input the folder path for images.")}},{key:"onChangeLaunchAction",value:function(e,t){var n=this;if(3==t){var a=this.getValue("pinFolder");a?this.onChange(e,t):window.Setting.selectFolder(null,(function(o){o&&(a=o,n.onChange("pinFolder",a),n.onChange(e,t))}))}else this.onChange(e,t)}},{key:"onResetDialogWarning",value:function(){this.onChange("noWarnigForMoveFile",!1),this.onChange("noWarnigForMoveFileToList",!1),this.onChange("noWarnigForDeleteFile",!1),this.onChange("pass_upload_confirm",!1),this.onChange("noWarnigForTypeWriterMode",!1),this.onChange("noWarnigForFocusMode",!1),this.onChange("noHintForOpenLink",!1),this.onChange("noHintForUnibody",!1),this.onChange("noWarnigUploadDisabled",!1),this.onChange("noWarningForExportOverwrite",!1),window.Setting.execCommand("File.option.noWarnigForMoveFile = false; File.option.noWarnigForMoveFileToList = false; File.option.noWarnigForDeleteFile = false; File.option.pass_upload_confirm = false; File.option.noWarnigForTypeWriterMode = false; File.option.noWarnigForFocusMode = false; File.option.noHintForOpenLink = false; File.option.noHintForUnibody = false; File.option.noWarnigUploadDisabled = false; File.option.noWarningForExportOverwrite = false;"),window.Setting.showAlert(Object(h.a)("Dialog warnings have been reset."))}},{key:"onOpenAdvancedSettings",value:function(){var e=window.Setting.userDataPath()+"/conf",t=e+"/conf.user.json";window.require("fs-plus").isFileSync(t)?window.isWin?window.Setting.openFolder(e):window.Setting.openFolder(t):window.Setting.doResetAdvancedSettings(!0)}},{key:"onResetAdvancedSettings",value:function(){window.Setting.showConfirm(Object(h.a)("Revert advanced setting file to default one ?","Front")).then((function(e){e&&window.Setting.doResetAdvancedSettings()}))}},{key:"noFondPanel",value:function(){return p.a.createElement(b.o,{active:-1==this.state.activeTab,style:{display:"flex",alignItems:"center",marginTop:"40%"}},p.a.createElement("div",{style:{textAlign:"center",margin:"auto"}},Object(h.a)('No results found for "%@"').replace("%@",this.state.search)))}},{key:"panelHeader",value:function(e){return window.isNodeHtml&&e?p.a.createElement("h3",{className:"panel-header"},Object(h.a)(e)):null}},{key:"render",value:function(){return p.a.createElement(g.a.Provider,{value:this.state.search},p.a.createElement("div",{className:"window"},window.isNodeHtml?p.a.createElement(b.w,null):null,p.a.createElement("div",{className:"window-content"},p.a.createElement("div",{className:"pane-group",ref:this.container},p.a.createElement("div",{className:"pane-sm sidebar"},p.a.createElement(fe,{activeTab:this.state.activeTab,onSwitchTab:this.onSwitchTab,onSearch:this.onSearch})),p.a.createElement("div",{className:"pane"},this.noFondPanel(),se.call(this),v.call(this),ue.call(this),w.a.call(this),pe.call(this),ce.call(this),de.call(this))))))}}]),n}(u.Component);t.a=be},,,,function(e,t,n){e.exports=n(41)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5),a=n(0),o=n.n(a),i=n(8),r=n.n(i),l=n(36),c=n(22),s=n(12);n(23);window.isNode=window.require,window.ShowTyporaLicense=!1;var u,p,d,m=null,h=!1,g=function(){return window.isNode?window._options.userLocale:window._options.locale};window.loadDict=function(e){return window.location.href.match(/localhost/)?new Promise((function(e){setTimeout((function(){e({Front:{},Menu:{},Panel:{"Word Count":"\u5b57\u6570\u7edf\u8ba1","Paper Size":"\u7eb8\u5f20\u5927\u5c0f"}})}),100)})):Promise.all([fetch("../locales/"+e+".lproj/Front.json"),fetch("../locales/"+e+".lproj/Menu.json"),fetch("../locales/"+e+".lproj/Panel.json")]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){return Promise.resolve({Front:e[0],Menu:e[1],Panel:e[2]})}))};var f={Front:{},Menu:{},Panel:{},get:function(e,t){return f[t||"Panel"][e]||e}};window.Dict=f;var b=function(){console.log("render..."),window.isMac?document.body.classList.add("mac-os-"+(window._options.osVersion||"10").substr(0,2)):/Mac\ OS\ X\ 11_/.exec(window.navigator.appVersion)&&document.body.classList.add("mac-os-11"),r.a.render(o.a.createElement(l.a,window._options),document.getElementById("root"))};if(window.reloadData=function(){console.log("window.reloadData"),m.invoke("setting.getExtraOption").then((function(e){if(console.log("setting.getExtraOption done"),window._options=JSON.parse(e),d=window._options.tempPath,u=window._options.userDataPath,p=window._options.documentsPath,!h){h=!0;var n=g();"Base"!==n&&n?window.loadDict(n).then((function(e){f=Object(t.a)(Object(t.a)({},f),e),b()})):h&&b()}}))},window.isNode){!function(){var e=window.require("module"),t=window.require("path");e.globalPaths.push(t.join(window.__dirname,"../node_modules.asar"));var n=e.prototype.require;e.prototype.require=function(e){return/(\.node$)|(\/build\/Release)/.exec(e)&&"."==e[0]&&(e=t.resolve(t.dirname(this.id),e).replace(/\bnode_modules\.asar\b/,"node_modules")),n.call(this,e)}}();var w=window.require("electron");m=w.ipcRenderer,window.reloadData(),m.on("executeJavaScript",(function(e,t){window.eval(t)}))}window.webkit&&(p=window._options._documentPath),window._options=Object(t.a)({},window._options),window.fetch||(fetch=c.a);var v=function(e,t){window.webkit&&window.webkit.messageHandlers._setting.postMessage({name:e,data:t})},y=0,k={};if(window.onMessageCallback=function(e){var t=k[e.id];t&&t.apply(null,e.data),delete k[e.id]},window.Setting={locale:function(){return g()},userDataPath:function(){return u},documentPath:function(){return p},close:function(){m.sendToHost("close")},put:function(e,t){window.webkit?v("put",{key:e,value:t}):window.isNode&&m.invoke("setting.put",e,t)},invoke:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return m.invoke.apply(null,[e].concat(n))},execCommand:function(e){window.webkit?v("execCommand",e):window.isNode&&m.send("execForAll",e.toString())},evaluateInHost:function(e){window.isNode&&m.sendToHost("evaluateInHost",e)},syncToPreference:function(e){window.isNode&&m.send("syncToPreference",e)},checkUpdates:function(){window.isWin&&m.invoke("updater.checkForUpdates",!0),window.webkit&&v("checkForUpdates")},selectFolder:function(e,t){window.isNode?m.invoke("dialog.showOpenDialog",{defaultPath:e||void 0,properties:["openDirectory","promptToCreate","dontAddToRecent"]}).then((function(e){var n=e.filePaths;t((n||[null])[0]||null)})):window.webkit?(y++,v("selectFolderOrFile",{dir:!0,defaultPath:e,id:y}),k[y]=t):t(prompt("selectFolder",e))},selectFile:function(e,t,n){window.isNode?m.invoke("dialog.showOpenDialog",{defaultPath:e||void 0,filters:t,properties:["openFile","dontAddToRecent"]}).then((function(e){var t=e.filePaths;n((t||[null])[0]||null)})):window.webkit?(y++,v("selectFolderOrFile",{dir:!1,defaultPath:e,filters:t&&1==t.length?t[0].extensions:null,id:y}),k[y]=n):n(prompt("selectFile",e))},openFolder:function(e){window.webkit?v("openFolder",e):window.isNode&&m.invoke("shell.openItem",e)},openLink:function(e){window.webkit?v("openLink",e):window.isNode?m.invoke("shell.openExternal",e):window.open(e)},showAlert:function(e){window.isNode?m.invoke("dialog.showMessageBox",{message:e,buttons:["OK"]}):alert(e)},showConfirm:function(e){if(window.isNode)return m.invoke("dialog.showMessageBox",{title:window.Dict.get("Confirm"),message:e,buttons:[window.Dict.get("OK"),window.Dict.get("Cancel")],cancelId:1}).then((function(e){return 0===e.response}));var t=window.confirm(e);return Promise.resolve(t)},exitFocusAndTypewriterMode:function(){window.webkit?v("exitFocusAndTypewriterMode"):window.isNode&&(window.Setting.put("isFocusMode",!1),window.Setting.put("isTypeWriterMode",!1),window.Setting.execCommand('function(){File.isFocusMode = false; File.isTypeWriterMode = false; File.editor.updateFocusMode(false); File.editor.setTypeWriterMode(false, true);document.body.classList.remove("ty-show-notification");}'),window.Setting.evaluateInHost("ClientCommand.refreshViewMenu()")),window.Setting.showAlert(window.Dict.get("Typewriter / Focus Mode have been turned off."))},updateEnableDebug:function(e){window.webkit&&v("updateDebugMode",e)},updateWindowStyle:function(e){window.webkit&&v("updateWindowStyle",e)},updatePandocPath:function(e){window.webkit&&v("updatePandocPath",e)},updateAlwaysShowWordCount:function(e){window.webkit&&v("updateAlwaysShowWordCount",e)},updateImageSaveLocation:function(e){window.webkit?v("updateImageSaveLocation",e):window.isNode&&window.Setting.execCommand("function(){File.setDefaultImageStorage("+JSON.stringify(e)+");}")},setSmartQuote:function(e){window.webkit?v("setSmartQuote",e):window.isNode&&window.Setting.evaluateInHost("File.megaMenu.setSmartQuote("+e+")")},setSmartDash:function(e){window.webkit?v("setSmartDash",e):window.Setting.evaluateInHost("File.megaMenu.setSmartDash("+e+")")},updateMenuForNode:function(e){window.require("electron").ipcRenderer.send("menu.updateMenu",JSON.stringify(e))},setConvertOnRendering:function(e){window.webkit?v("setConvertOnRendering",e):window.isNode&&window.Setting.evaluateInHost("File.megaMenu.setSmartyPantsTiming("+e+")")},setRemapPunctuation:function(e){window.webkit?v("setRemapPunctuation",e):window.isNode&&window.Setting.evaluateInHost("File.megaMenu.setRemapPunctuation("+e+")")},setTheme:function(){window.isNode&&window.Setting.invoke("theme.apply"),window.isMac&&v("applyTheme")},reloadExportMenu:function(){window.isNode&&window.Setting.invoke("menu.reloadExportMenu"),window.isMac&&v("reloadExportMenu")},openUnsavedDraft:function(){m.sendToHost("openUnsavedDraft")},doResetAdvancedSettings:function(e){window.Setting.invoke("setting.resetAdvancedSettings",e)},existsDir:function(e){if(window.isNode){var t=window.require("fs-extra");try{return t.lstatSync(e).isDirectory()}catch(n){}return!1}return!0},testImageUploader:function(t,n,a){var o=function(e,t,a){if(!r)if(t){var o=function(e){for(var t=e.split(/\r?\n/),n=[],a=t.length-1;a>=0;a--){var o=t[a].trim();if(o)if(/^(https?|ftp|file):\//.exec(o))n.unshift(o);else if(/^[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}\/.*$/.exec(o))n.unshift("http://"+o);else if(n.length)break}return n}(t);2!=o.length?n({command:e,rawOutput:t||a,rawError:!1,finalError:!0}):n({command:e,rawOutput:t,rawError:!1,finalError:!1,images:o})}else n({command:e,rawOutput:a||"(none)",rawError:!0,finalError:!0})},i=function(e,t,a){if(!r)if(a)n({command:e,rawOutput:a,rawError:!0,finalError:!0});else{var o=[];try{o=JSON.parse(t)}catch(i){}o.success&&2==o.result.length?n({command:e,rawOutput:t,rawError:!1,finalError:!1,images:o}):n({command:e,rawOutput:t,rawError:!1,finalError:!0})}};var r=!1;if(window.isNode){var l=e.require("path").normalize(e.__dirname+"/../assets/icon"),c=e.require("fs-extra").copy,s={overwrite:!1,errorOnExist:!1};Promise.all([c(l+"/icon_512x512@2x.png",d.replace(/\/$/,"")+"/typora-icon2.png",s),c(l+"/icon_256x256@2x.png",d.replace(/\/$/,"")+"/typora-icon.png",s)]).then((function(){var e,l;r||(e="picgo-app"==t?"using http://127.0.0.1:36677/upload":(t||"").replace("${filepath}","").replace("${filename}","")+" "+JSON.stringify(d.replace(/\/$/,"")+"/typora-icon2.png")+" "+JSON.stringify(d.replace(/\/$/,"")+"/typora-icon.png"),n({command:e,finalError:null}),"picgo-app"==t?(l=[d.replace(/\/$/,"")+"/typora-icon2.png",d.replace(/\/$/,"")+"/typora-icon.png"],a?function e(t){return window.fetch("http://127.0.0.1:36677/upload",{method:"POST",body:JSON.stringify({list:l})}).then((function(e){return 200===e.status?e.text():Promise.reject(e.text())}),(function(n){return t?Promise.reject(n.message):new Promise((function(t,n){var o=setTimeout((function(){o=null,e(!0).then(t,n)}),5e3);window.require("child_process").exec(JSON.stringify(a),(function(e,t,a){o&&e&&(n("failed to launch PicGo app: "+e.message),clearTimeout(o))}))}))}))}(!1):Promise.reject("Path for PicGo (app) is invalid.")).then((function(t){console.log(t),i(e,t,null)})).catch((function(t){console.error(t),i(e,null,t)})):window.require("child_process").exec(e,{windowsHide:!0},(function(t,n,a){o(e,n,t?a||t.message:null)})))})).catch((function(){}))}else y++,v("testImageUploader",[t,y]),n({finalError:null}),k[y]=function(e,a,r){"ipic"==t?n({rawOutput:r||a,rawError:!!r,finalError:!!r}):"picgo-app"==t?i(e,a,r):o(e,a,r)};return function(){r=!0}}},window.isUnibody&&document.body.classList.add("unibody-window"),window.isNode&&m.on("syncToPreference",(function(e,t){window.eval(t)})),Object(s.a)("esc",(function(e,t){"INPUT"===e.target.nodeName||document.querySelector(".modal-backdrop")||(e.preventDefault(),window.Setting.close())})),window.isMac){var E=!1;window.loadDict(g()).then((function(e){f=Object(t.a)(Object(t.a)({},f),e),window.Dict=f,E=!0,b()})),setTimeout((function(){!E&&b()}),1e3)}else window.isNode||window.loadDict().then((function(e){f=Object(t.a)(Object(t.a)({},f),e),window.Dict=f,E=!0,b()}))}.call(this,n(32))},,,,,function(e,t,n){}],[[40,8,0]]]);
//# sourceMappingURL=Preferences.962926a4.64f530f9.chunk.js.map