20211122

局域网和mes连上

需求:

工厂:自动化

技术:自由化

台架实验室运营状态可视化项目

正常/停机/停机处理/连接终端/等待项目

运营状态可视化优化展示

正在运转 4小时内停机  超4小时停机 连接中断  等待项目

软件需求表单 软件需求说明 

今天沟通功能整体业务流程  大体上有哪些功能需求 涉及系统功能 如何满足



计划S===>上台架B===>T实验过程=====>D下台架过程===>数据汇总分析展示Data



T判断状态 :

正常

停机:四类

每个四类的小类还可以添加描述型词汇

每一项占用的时间有个统计 推算占用比例

非正常状态 界面展示人为判定

如果是设备原因 :推送  报警之类的  生成工单 填表 人员 内容 时间  结束提交工单之后就变成正常了

如果是



我们就10个台架

人工创建计划  创建的信息包括哪些 时间(哪天上台架 哪天下台架  如果拖了就要有滞留提醒 给到天)  试验内容 台架号  全都是人工录入的 计划编号  计划指的是:试验计划   是否需要指定台架(需要的 人工去选)  不需要指定人员   

只需要知道是哪个人员在操作就行了

B就是上台架  工单确定好了 操作人员是谁 开始上线 需要确定 人员 时间 

B是开始的确认  也需要记录上线的开始 和 上线的结束  录入发动机号/上线的时候才知道具体是哪一个发动机 就上一个发动机 录入载体信息

BTD每个截断都有开始和结束的时间 

上线开始 上线结束 试验开始 试验结束 下线开始 下线结束  

不会出现需要撤回的操作  如果确实需要撤  点个确认 计划结束  那需要

T中 如果异常 那就看看能不能修好 修好就成为正常 修不好就下线 计划结束

试验不太一样 出问题 就只有发动机有问题 或者台架有问题 

只要停了就有异常  正常每天都要停 发动机转速为0就是停 不为0就不是停的

转速抓数据 发动机在转 台架就是正常的 

给个触发信号 



0-1就是开始1-0就是结束  结束的时候判断状态  模拟信号 

没有plc 只有模拟信号  

模拟信号==>转变 加个盒子  加个plc的话就可以了  

on的话就是记录时间

off的话就是结束时间

人工给状态 

开始时间和结束时间 中间的状态 人工输入  

试验阶段的结束 人工确认下线进入D

拍on 开始 拍off 如果是正常 就进入下一个T 如果是异常 点出来是什么原因 台架还是发动机 如果是发动机 要填写工单

网页端  

D是结束的确认



一个台架完成后 有个记录

打卡吗?

记录本

人工选三个人 

人工填写任务 

第一组人填 填完第二组的人看

现场操作终端11台

采集的是io信号 自动采集  录入的信息自定义

初始状态设置成数据字典

11台终端操作系统

数据库用现有的

网线的问题

opc采集软件





问题清单:

一个计划下有多个发动机号吗 **一个**

上线录入载体信息 哪些信息  **发动机相关的信息** 人员信息通过登录

表结构 数据结构  数据库

程序是嵌入到mes上线程序里面吗

线上的按钮很多吗 按钮有on 和 off  乐观锁 悲观锁

是流水线吗 上线如果需要撤回 就流转到下线记录一下下线开始和结束 

转速为0 或者说要点检了 会触发off的逻辑吗 还是需要人工自动点击"停机"来处理吗

on和off线上的按钮应该不是对应一个db块把,是10个把?

如果是设备或者发动机的异常问题 需要确定 发现人/指派人/执行人的逻辑



基础信息维护

滞留 提醒 

日志记录

可视化状态信息 关键指标

统计信息   自己定好





定模块

功能

##### 基础建模

- 人员信息维护
  - 人员组(不同班制的操作人员)
  - 角色(设备工程师/发动机工程师)
- 异常信息维护
  - 异常类别
  - 异常原因
  - 异常描述
- 排故信息维护
  - 排故类别
  - 排故原因
  - 排故描述
- 台架信息维护
  - 台架号及相关信息
- 试验信息维护
  - 试验类型
  - 试验名称
  - 试验描述

##### 计划管理

- 试验计划创建  S
  - 录入计划信息(计划号 / 预计开始时间 / 预计结束时间 / 台架号)
  - 计划滞留提醒(超期未完成计划)

##### 计划执行

- 台架上线  B
  - 录入台架信息(台架号)
  - 录入发动机信息(发动机号/发动机机型)
  - 录入上线开始时间
  - 录入上线结束时间
- 台架试验 T( 根据需要 可重复n次 )
  - 录入试验类型
  - 录入试验开始时间
  - 录入试验描述
  - 录入台架号
  - 录入判定状态
    - 若为正常则当前试验完成,可进入下一试验
    - 若为异常则选择异常类型/异常原因/异常描述,根据异常类型和异常原因决定是否派发工单,工单指定指派人,指派人登录网站指定执行人,执行人执行完毕后将工单填写完整
  - 录入试验结束时间
- 台架下线 D
  - 录入台架信息(台架号)
  - 发动机信息(发动机号 / 发动机机型) (**可忽略**)
  - 录入下线开始时间
  - 录入下线结束时间

##### 实时数据展示

- 台架可视化展示

  - 台架利用率 / 台架各状态占比(正常/停机/故障/闲置) 

  - 台架关键指标 (周利用率/停机故障率/4h内停机信息/超4h停机信息) 

- 统计分析
  - 发动机各节点占用时间及比例
  - 近一年各台架试验量 / 近一年异常类型占比

##### 系统记录

- 台架日志记录

  - 台架操作记录(含操作人)

  - 下计划/上线/试验/下线

- 执行记录本
  - 当班操作人员换班前撰写任务详情及轮班人员



















 





 

